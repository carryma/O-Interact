2018-04-01 14:20:58.997  INFO 31040 --- [main] com.example.demo.DemoApplicationTests    : Starting DemoApplicationTests on KANMA-CN with PID 31040 (started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 14:20:58.999  INFO 31040 --- [main] com.example.demo.DemoApplicationTests    : No active profile set, falling back to default profiles: default
2018-04-01 14:20:59.093  INFO 31040 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@c86b9e3: startup date [Sun Apr 01 14:20:59 CST 2018]; root of context hierarchy
2018-04-01 14:21:03.724  INFO 31040 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@c86b9e3: startup date [Sun Apr 01 14:20:59 CST 2018]; root of context hierarchy
2018-04-01 14:21:03.997  INFO 31040 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 14:21:04.003  INFO 31040 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 14:21:04.004  INFO 31040 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 14:21:04.005  INFO 31040 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 14:21:04.013  INFO 31040 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 14:21:04.022  INFO 31040 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 14:21:04.022  INFO 31040 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 14:21:04.107  INFO 31040 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 14:21:04.108  INFO 31040 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 14:21:04.231  INFO 31040 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 14:21:04.356  INFO 31040 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: ServletContext resource [/index.html]
2018-04-01 14:21:04.896  INFO 31040 --- [main] com.example.demo.DemoApplicationTests    : Started DemoApplicationTests in 7.048 seconds (JVM running for 9.577)
2018-04-01 14:21:05.036  INFO 31040 --- [main] com.example.demo.entity.LoggerTest       : Hello, This is my first slf4j Logger
2018-04-01 14:21:05.047  INFO 31040 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@c86b9e3: startup date [Sun Apr 01 14:20:59 CST 2018]; root of context hierarchy
2018-04-01 14:50:00.779  INFO 6132 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 6132 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 14:50:00.779  INFO 6132 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-01 14:50:00.966  INFO 6132 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1b68b9a4: startup date [Sun Apr 01 14:50:00 CST 2018]; root of context hierarchy
2018-04-01 14:50:04.592  INFO 6132 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-01 14:50:04.623  INFO 6132 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-01 14:50:04.623  INFO 6132 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-01 14:50:05.123  INFO 6132 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-01 14:50:05.123  INFO 6132 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4188 ms
2018-04-01 14:50:05.545  INFO 6132 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-01 14:50:05.560  INFO 6132 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-01 14:50:05.560  INFO 6132 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-01 14:50:05.560  INFO 6132 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-01 14:50:05.560  INFO 6132 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-01 14:50:06.686  INFO 6132 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1b68b9a4: startup date [Sun Apr 01 14:50:00 CST 2018]; root of context hierarchy
2018-04-01 14:50:06.795  INFO 6132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 14:50:06.795  INFO 6132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 14:50:06.795  INFO 6132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 14:50:06.795  INFO 6132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 14:50:06.811  INFO 6132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 14:50:06.811  INFO 6132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-01 14:50:06.811  INFO 6132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 14:50:06.811  INFO 6132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 14:50:06.857  INFO 6132 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 14:50:06.857  INFO 6132 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 14:50:06.936  INFO 6132 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 14:50:06.982  INFO 6132 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-01 14:50:07.381  INFO 6132 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-01 14:50:07.678  INFO 6132 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-01 14:50:07.678  INFO 6132 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 7.681 seconds (JVM running for 11.19)
2018-04-01 15:24:02.328  INFO 6132 --- [http-nio-80-exec-9] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-01 15:24:02.329  INFO 6132 --- [http-nio-80-exec-9] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-01 15:24:02.368  INFO 6132 --- [http-nio-80-exec-9] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 38 ms
2018-04-01 15:59:20.054 ERROR 6132 --- [http-nio-80-exec-10] o.a.tomcat.jdbc.pool.ConnectionPool      : Unable to create initial connections of pool.

com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:989) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:341) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2192) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2225) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2024) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:779) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:389) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:330) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) [tomcat-jdbc-8.5.15.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:619) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:684) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:716) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:726) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:776) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.UserDaoImpl.findUserList(UserDaoImpl.java:51) [classes/:na]
	at com.example.demo.dao.daoimpl.UserDaoImpl$$FastClassBySpringCGLIB$$df7c0a15.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) [spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.UserDaoImpl$$EnhancerBySpringCGLIB$$1f8cec3b.findUserList(<generated>) [classes/:na]
	at com.example.demo.service.seviceimpl.UserServiceImpl.findUserList(UserServiceImpl.java:38) [classes/:na]
	at com.example.demo.controller.UserController.listUser(UserController.java:27) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method) ~[na:1.8.0_151]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_151]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_151]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_151]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_151]
	at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:300) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	... 93 common frames omitted

2018-04-01 16:00:51.094  INFO 880 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 880 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 16:00:51.100  INFO 880 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-01 16:00:51.280  INFO 880 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1b68b9a4: startup date [Sun Apr 01 16:00:51 CST 2018]; root of context hierarchy
2018-04-01 16:00:54.425  INFO 880 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-01 16:00:54.452  INFO 880 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-01 16:00:54.454  INFO 880 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-01 16:00:54.768  INFO 880 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-01 16:00:54.768  INFO 880 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3494 ms
2018-04-01 16:00:55.119  INFO 880 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-01 16:00:55.128  INFO 880 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-01 16:00:55.129  INFO 880 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-01 16:00:55.130  INFO 880 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-01 16:00:55.131  INFO 880 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-01 16:00:56.102  INFO 880 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1b68b9a4: startup date [Sun Apr 01 16:00:51 CST 2018]; root of context hierarchy
2018-04-01 16:00:56.216  INFO 880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 16:00:56.219  INFO 880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 16:00:56.220  INFO 880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 16:00:56.221  INFO 880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 16:00:56.221  INFO 880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 16:00:56.222  INFO 880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-01 16:00:56.229  INFO 880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 16:00:56.230  INFO 880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 16:00:56.295  INFO 880 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 16:00:56.296  INFO 880 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 16:00:56.375  INFO 880 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 16:00:56.428  INFO 880 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-01 16:00:56.789  INFO 880 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-01 16:00:56.890  INFO 880 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-01 16:00:56.898  INFO 880 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 6.626 seconds (JVM running for 8.468)
2018-04-01 16:01:04.005  INFO 880 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-01 16:01:04.006  INFO 880 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-01 16:01:04.046  INFO 880 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 40 ms
2018-04-01 16:01:39.206  INFO 880 --- [http-nio-80-exec-7] c.e.demo.controller.WeChatController     : 微信-开始校验签名
2018-04-01 16:01:39.207  INFO 880 --- [http-nio-80-exec-7] c.e.demo.controller.WeChatController     : 收到来自微信的 echostr 字符串:4104443402973847523
2018-04-01 16:01:39.209  INFO 880 --- [http-nio-80-exec-7] c.e.demo.controller.WeChatController     : 微信-签名校验通过
2018-04-01 16:01:39.209  INFO 880 --- [http-nio-80-exec-7] c.e.demo.controller.WeChatController     : 回复给微信的 echostr 字符串:4104443402973847523
2018-04-01 16:09:36.130  WARN 880 --- [http-nio-80-exec-10] o.s.web.servlet.PageNotFound             : Request method 'POST' not supported
2018-04-01 16:15:44.487  INFO 880 --- [http-nio-80-exec-2] c.e.demo.controller.WeChatController     : 微信-开始校验签名
2018-04-01 16:15:44.488  INFO 880 --- [http-nio-80-exec-2] c.e.demo.controller.WeChatController     : 收到来自微信的 echostr 字符串:10707098075123261311
2018-04-01 16:15:44.488  INFO 880 --- [http-nio-80-exec-2] c.e.demo.controller.WeChatController     : 微信-签名校验通过
2018-04-01 16:15:44.490  INFO 880 --- [http-nio-80-exec-2] c.e.demo.controller.WeChatController     : 回复给微信的 echostr 字符串:10707098075123261311
2018-04-01 18:33:38.766  INFO 3516 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 3516 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 18:33:38.772  INFO 3516 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-01 18:33:38.892  INFO 3516 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 18:33:38 CST 2018]; root of context hierarchy
2018-04-01 18:33:41.726  INFO 3516 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-01 18:33:41.744  INFO 3516 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-01 18:33:41.745  INFO 3516 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-01 18:33:42.011  INFO 3516 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-01 18:33:42.011  INFO 3516 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3123 ms
2018-04-01 18:33:42.250  INFO 3516 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-01 18:33:42.258  INFO 3516 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-01 18:33:42.258  INFO 3516 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-01 18:33:42.258  INFO 3516 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-01 18:33:42.258  INFO 3516 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-01 18:33:42.932  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 18:33:38 CST 2018]; root of context hierarchy
2018-04-01 18:33:43.005  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-01 18:33:43.009  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 18:33:43.011  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 18:33:43.011  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 18:33:43.011  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 18:33:43.011  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 18:33:43.012  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-01 18:33:43.015  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 18:33:43.015  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 18:33:43.056  INFO 3516 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:33:43.057  INFO 3516 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:33:43.112  INFO 3516 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:33:43.144  INFO 3516 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-01 18:33:43.361  INFO 3516 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-01 18:33:43.434  INFO 3516 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-01 18:33:43.440  INFO 3516 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 5.65 seconds (JVM running for 7.766)
2018-04-01 18:37:29.209  INFO 4440 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 4440 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 18:37:29.217  INFO 4440 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-01 18:37:29.349  INFO 4440 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 18:37:29 CST 2018]; root of context hierarchy
2018-04-01 18:37:32.219  INFO 4440 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-01 18:37:32.238  INFO 4440 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-01 18:37:32.240  INFO 4440 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-01 18:37:32.481  INFO 4440 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-01 18:37:32.482  INFO 4440 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3139 ms
2018-04-01 18:37:32.721  INFO 4440 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-01 18:37:32.727  INFO 4440 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-01 18:37:32.727  INFO 4440 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-01 18:37:32.728  INFO 4440 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-01 18:37:32.728  INFO 4440 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-01 18:37:33.457  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 18:37:29 CST 2018]; root of context hierarchy
2018-04-01 18:37:33.536  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-01 18:37:33.540  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 18:37:33.541  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 18:37:33.541  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 18:37:33.543  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 18:37:33.543  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 18:37:33.545  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-01 18:37:33.548  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 18:37:33.549  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 18:37:33.587  INFO 4440 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:37:33.588  INFO 4440 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:37:33.654  INFO 4440 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:37:33.690  INFO 4440 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-01 18:37:34.013  INFO 4440 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-01 18:37:34.118  INFO 4440 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-01 18:37:34.123  INFO 4440 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 5.917 seconds (JVM running for 7.796)
2018-04-01 18:41:54.769  INFO 15144 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 15144 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 18:41:54.796  INFO 15144 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-01 18:41:55.043  INFO 15144 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 18:41:55 CST 2018]; root of context hierarchy
2018-04-01 18:41:57.391  INFO 15144 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-01 18:41:57.406  INFO 15144 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-01 18:41:57.408  INFO 15144 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-01 18:41:57.635  INFO 15144 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-01 18:41:57.635  INFO 15144 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2598 ms
2018-04-01 18:41:57.911  INFO 15144 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-01 18:41:57.918  INFO 15144 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-01 18:41:57.919  INFO 15144 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-01 18:41:57.919  INFO 15144 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-01 18:41:57.919  INFO 15144 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-01 18:41:58.635  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 18:41:55 CST 2018]; root of context hierarchy
2018-04-01 18:41:58.715  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-01 18:41:58.717  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 18:41:58.719  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 18:41:58.719  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 18:41:58.719  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 18:41:58.719  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 18:41:58.720  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-01 18:41:58.723  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 18:41:58.724  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 18:41:58.764  INFO 15144 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:41:58.765  INFO 15144 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:41:58.812  INFO 15144 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:41:58.849  INFO 15144 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-01 18:41:59.085  INFO 15144 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-01 18:41:59.177  INFO 15144 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-01 18:41:59.188  INFO 15144 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 5.249 seconds (JVM running for 8.021)
2018-04-01 18:42:43.124  INFO 15144 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-01 18:42:43.124  INFO 15144 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-01 18:42:43.163  INFO 15144 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 38 ms
2018-04-01 18:42:43.200  INFO 15144 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-01 18:42:43.201  INFO 15144 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:081CAzaP0MDM2c2hF0dP06pvaP0CAzaf , state:STAT
2018-04-01 18:42:43.203  INFO 15144 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-01 18:42:43.203  INFO 15144 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=ef3bf3298a46a0b4ecefd9102c758cdc&code=081CAzaP0MDM2c2hF0dP06pvaP0CAzaf&grant_type=authorization_code
2018-04-01 18:42:44.311  INFO 15144 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"errcode":40125,"errmsg":"invalid appsecret, view more at http://t.cn/RAEkdVq, hints: [ req_id: eG9wka0364th56 ]"}
2018-04-01 18:42:44.313  INFO 15144 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-01 18:42:44.313  INFO 15144 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:null , openId:null
2018-04-01 18:42:44.313  INFO 15144 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=null&openid=null&lang=zh_CN
2018-04-01 18:42:44.430  INFO 15144 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":40001,"errmsg":"invalid credential, access_token is invalid or not latest, hints: [ req_id: 0fRHNa0364s108 ]"}
2018-04-01 18:42:44.460 ERROR 15144 --- [http-nio-80-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:120) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-01 18:42:44.698  INFO 15144 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-01 18:42:44.701  INFO 15144 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:081CAzaP0MDM2c2hF0dP06pvaP0CAzaf , state:STAT
2018-04-01 18:42:44.701  INFO 15144 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-01 18:42:44.702  INFO 15144 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=ef3bf3298a46a0b4ecefd9102c758cdc&code=081CAzaP0MDM2c2hF0dP06pvaP0CAzaf&grant_type=authorization_code
2018-04-01 18:42:44.836  INFO 15144 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"errcode":40125,"errmsg":"invalid appsecret, view more at http://t.cn/RAEkdVq, hints: [ req_id: Uv7ruA0364th31 ]"}
2018-04-01 18:42:44.837  INFO 15144 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-01 18:42:44.837  INFO 15144 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : WebAccessToken:null , openId:null
2018-04-01 18:42:44.837  INFO 15144 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=null&openid=null&lang=zh_CN
2018-04-01 18:42:44.940  INFO 15144 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":40001,"errmsg":"invalid credential, access_token is invalid or not latest, hints: [ req_id: GQuMRA0364s156 ]"}
2018-04-01 18:42:44.944 ERROR 15144 --- [http-nio-80-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:120) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-01 18:44:48.641  INFO 3532 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 3532 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 18:44:48.656  INFO 3532 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-01 18:44:48.802  INFO 3532 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 18:44:48 CST 2018]; root of context hierarchy
2018-04-01 18:44:52.095  INFO 3532 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-01 18:44:52.108  INFO 3532 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-01 18:44:52.109  INFO 3532 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-01 18:44:52.399  INFO 3532 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-01 18:44:52.400  INFO 3532 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3602 ms
2018-04-01 18:44:52.668  INFO 3532 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-01 18:44:52.685  INFO 3532 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-01 18:44:52.686  INFO 3532 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-01 18:44:52.687  INFO 3532 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-01 18:44:52.688  INFO 3532 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-01 18:44:53.531  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 18:44:48 CST 2018]; root of context hierarchy
2018-04-01 18:44:53.643  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-01 18:44:53.648  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 18:44:53.650  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 18:44:53.650  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 18:44:53.652  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 18:44:53.652  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 18:44:53.654  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-01 18:44:53.657  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 18:44:53.658  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 18:44:53.698  INFO 3532 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:44:53.699  INFO 3532 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:44:53.750  INFO 3532 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:44:53.813  INFO 3532 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-01 18:44:54.093  INFO 3532 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-01 18:44:54.189  INFO 3532 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-01 18:44:54.198  INFO 3532 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 6.536 seconds (JVM running for 9.42)
2018-04-01 18:45:14.955  INFO 3532 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-01 18:45:14.955  INFO 3532 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-01 18:45:14.997  INFO 3532 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 41 ms
2018-04-01 18:45:15.034  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-01 18:45:15.034  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:001ecm901idgbZ1eDe8018Ys901ecm9l , state:STAT
2018-04-01 18:45:15.036  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-01 18:45:15.036  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=001ecm901idgbZ1eDe8018Ys901ecm9l&grant_type=authorization_code
2018-04-01 18:45:15.875  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_2_s--NJvWUTmAL1g-EnkJWT6d-MvHOFhpXKCCWqeoNehR1UjpsxnSaqK3R2OIR4ysk9guPUBwqcD21yVT9c9QT6xfLhLrFdDcPwTGelC7dU","refresh_token":"8_VhOsEltk1dtP-YJoLlDL430lnpGq9vS2NvUdi9SDprPa11fDFArDaI9toGXkRgOBU8bGqJx2ECZGpzZ45YDQ6cdCln2aQAWL-4FL4RofTc4","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-01 18:45:15.875  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-01 18:45:15.876  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_2_s--NJvWUTmAL1g-EnkJWT6d-MvHOFhpXKCCWqeoNehR1UjpsxnSaqK3R2OIR4ysk9guPUBwqcD21yVT9c9QT6xfLhLrFdDcPwTGelC7dU , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-01 18:45:15.877  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_2_s--NJvWUTmAL1g-EnkJWT6d-MvHOFhpXKCCWqeoNehR1UjpsxnSaqK3R2OIR4ysk9guPUBwqcD21yVT9c9QT6xfLhLrFdDcPwTGelC7dU&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-01 18:45:16.082  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-01 18:45:16.083  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-01 18:45:16.083  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户性别:男
2018-04-01 18:45:16.084  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-01 18:55:48.518  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-01 18:55:48.519  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:011iaEba2N4h1P0Jpq8a2Iyoba2iaEb7 , state:STAT
2018-04-01 18:55:48.520  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-01 18:55:48.521  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=011iaEba2N4h1P0Jpq8a2Iyoba2iaEb7&grant_type=authorization_code
2018-04-01 18:55:48.882  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_w_IZJAwytDk3nOPysLRweeR9Xc6DInIQELn9ERaMgRkmckNL5tF-LBKq59pR-y0Mxl3IzJ22Yu3UajmNz8gMTt6RpwEN86FMG40oYErqQjs","refresh_token":"8_M5UbZScfPeBBnfeHXIrDcTVW61G6NDyufCekx2HN3Ni4gPV3dom5-NoevldjU76fM0WPu8NVpi-uLyHKR-4HS4iLc-iJYOelk9M68T0nyTA","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-01 18:55:48.882  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-01 18:55:48.882  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : WebAccessToken:8_w_IZJAwytDk3nOPysLRweeR9Xc6DInIQELn9ERaMgRkmckNL5tF-LBKq59pR-y0Mxl3IzJ22Yu3UajmNz8gMTt6RpwEN86FMG40oYErqQjs , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-01 18:55:48.883  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_w_IZJAwytDk3nOPysLRweeR9Xc6DInIQELn9ERaMgRkmckNL5tF-LBKq59pR-y0Mxl3IzJ22Yu3UajmNz8gMTt6RpwEN86FMG40oYErqQjs&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-01 18:55:49.038  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-01 18:55:49.038  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-01 18:55:49.039  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户性别:男
2018-04-01 18:55:49.039  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-01 18:57:13.575  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-01 18:57:13.576  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:0616cxI81Ni49Q1f5HH81lfRI816cxIX , state:STAT
2018-04-01 18:57:13.577  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-01 18:57:13.579  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=0616cxI81Ni49Q1f5HH81lfRI816cxIX&grant_type=authorization_code
2018-04-01 18:57:13.780  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_gaNt12hlYaVJLk_qUxvWgm1Zcz1yUrfXQ7ZxmsvbORL4EvvxwbzpR5wH6zGRtoNUCghYCno35oxb1vFAceN-1yOCvtLfNrNlo2WzV-Tik7Q","refresh_token":"8_YCBmUS2HZyw07gaODX_RwbbNTExGt7WU8T025EITBrcm4-V-k7qWRFnPE9x5MAoatjx_nd4sxqpg71yHZ8qyJnsCZoK61oX3cH9RCHVwKik","openid":"oJdcO1TGWGBAcEmrcey_0tCgUuc8","scope":"snsapi_userinfo","expires_in":7200}
2018-04-01 18:57:13.781  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-01 18:57:13.781  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : WebAccessToken:8_gaNt12hlYaVJLk_qUxvWgm1Zcz1yUrfXQ7ZxmsvbORL4EvvxwbzpR5wH6zGRtoNUCghYCno35oxb1vFAceN-1yOCvtLfNrNlo2WzV-Tik7Q , openId:oJdcO1TGWGBAcEmrcey_0tCgUuc8
2018-04-01 18:57:13.782  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_gaNt12hlYaVJLk_qUxvWgm1Zcz1yUrfXQ7ZxmsvbORL4EvvxwbzpR5wH6zGRtoNUCghYCno35oxb1vFAceN-1yOCvtLfNrNlo2WzV-Tik7Q&openid=oJdcO1TGWGBAcEmrcey_0tCgUuc8&lang=zh_CN
2018-04-01 18:57:13.940  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"苏州","openid":"oJdcO1TGWGBAcEmrcey_0tCgUuc8","sex":1,"nickname":"吴越","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epQYTiaNibCibjCoze8bzTcbUguaBicseDv7FItek54kIU09SO7yQX5q8y4AEibmtpkePXGz7UZ7KtIatQ/132","language":"zh_CN","privilege":[]}
2018-04-01 18:57:13.940  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 用户昵称:吴越
2018-04-01 18:57:13.940  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 用户性别:男
2018-04-01 18:57:13.941  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : OpenId:oJdcO1TGWGBAcEmrcey_0tCgUuc8
2018-04-01 18:58:06.297  WARN 3532 --- [http-nio-80-exec-4] o.s.web.servlet.PageNotFound             : Request method 'POST' not supported
2018-04-01 18:58:21.598  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-01 18:58:21.600  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:001kzdnQ0BeAH822avoQ0UvfnQ0kzdn7 , state:STAT
2018-04-01 18:58:21.601  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-01 18:58:21.601  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=001kzdnQ0BeAH822avoQ0UvfnQ0kzdn7&grant_type=authorization_code
2018-04-01 18:58:21.797  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_LzhHTEaOHpCdLuop3sCYlv8yqG4svaNwg2jbGMCGXXsDPMUCGZ9bJa05QTQG8oNlxqEsRwFEIjWoyT8uElE_togAPPgfjG9VjDFsAhwxxHk","refresh_token":"8_RfoH009Fv-Dr3bGoI8HPOmiDBzrXH28hKR4VwXTJubYAGW4CJZJgYdl9_RUNc7US4mqT-lpqXoLb4h6JoVKHEopEKF-Dp1UediRNLTVBzFY","openid":"oJdcO1fOnBFdl2FkSn61NNlKUPJs","scope":"snsapi_userinfo","expires_in":7200}
2018-04-01 18:58:21.797  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-01 18:58:21.798  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : WebAccessToken:8_LzhHTEaOHpCdLuop3sCYlv8yqG4svaNwg2jbGMCGXXsDPMUCGZ9bJa05QTQG8oNlxqEsRwFEIjWoyT8uElE_togAPPgfjG9VjDFsAhwxxHk , openId:oJdcO1fOnBFdl2FkSn61NNlKUPJs
2018-04-01 18:58:21.798  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_LzhHTEaOHpCdLuop3sCYlv8yqG4svaNwg2jbGMCGXXsDPMUCGZ9bJa05QTQG8oNlxqEsRwFEIjWoyT8uElE_togAPPgfjG9VjDFsAhwxxHk&openid=oJdcO1fOnBFdl2FkSn61NNlKUPJs&lang=zh_CN
2018-04-01 18:58:21.983  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"苏州","openid":"oJdcO1fOnBFdl2FkSn61NNlKUPJs","sex":2,"nickname":"马笑笑;)","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKGQw5vDSJ5O8MKPAQNrknN4EPTypRibWD2XhLJY0k1aMkXgLQibU4BeM2RiaPaxkNRYcSDibjfTFgX5Q/132","language":"zh_CN","privilege":[]}
2018-04-01 18:58:21.983  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 用户昵称:马笑笑;)
2018-04-01 18:58:21.985  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 用户性别:女
2018-04-01 18:58:21.985  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : OpenId:oJdcO1fOnBFdl2FkSn61NNlKUPJs
2018-04-01 19:28:34.861  WARN 3532 --- [http-nio-80-exec-2] o.s.web.servlet.PageNotFound             : Request method 'POST' not supported
2018-04-01 19:32:07.822  INFO 16252 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 16252 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 19:32:07.829  INFO 16252 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-01 19:32:08.014  INFO 16252 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 19:32:08 CST 2018]; root of context hierarchy
2018-04-01 19:32:10.630  INFO 16252 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-01 19:32:10.655  INFO 16252 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-01 19:32:10.656  INFO 16252 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-01 19:32:10.902  INFO 16252 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-01 19:32:10.903  INFO 16252 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2894 ms
2018-04-01 19:32:11.181  INFO 16252 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-01 19:32:11.189  INFO 16252 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-01 19:32:11.189  INFO 16252 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-01 19:32:11.189  INFO 16252 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-01 19:32:11.190  INFO 16252 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-01 19:32:11.926  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 19:32:08 CST 2018]; root of context hierarchy
2018-04-01 19:32:12.005  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-01 19:32:12.010  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 19:32:12.011  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 19:32:12.012  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 19:32:12.013  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 19:32:12.013  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 19:32:12.014  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-01 19:32:12.016  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 19:32:12.017  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 19:32:12.066  INFO 16252 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 19:32:12.070  INFO 16252 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 19:32:12.143  INFO 16252 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 19:32:12.190  INFO 16252 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-01 19:32:12.528  INFO 16252 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-01 19:32:12.688  INFO 16252 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-01 19:32:12.694  INFO 16252 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 5.946 seconds (JVM running for 8.716)
2018-04-01 19:34:43.119  INFO 16252 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-01 19:34:43.120  INFO 16252 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-01 19:34:43.157  INFO 16252 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 36 ms
2018-04-01 19:34:43.192  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-01 19:34:43.192  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:061TmzwI1mcY1809hbAI1GQGwI1TmzwA , state:STAT
2018-04-01 19:34:43.194  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_base&state=STAT#wechat_redirect
2018-04-01 19:34:43.194  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=061TmzwI1mcY1809hbAI1GQGwI1TmzwA&grant_type=authorization_code
2018-04-01 19:34:43.897  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_Qy8KoJQCQt9e-MCumShYpJNlAg18TV5hHbeZl8zj9rU-RiAUNU0rMKZBvr6fXMPFWKirUr9Sqkd9WLQtBts39w","refresh_token":"8_XdIur1z19FOenuaQ-fRCvG3On1D4px8AFmhp7BLK1URP5hHr5Ljlp9F3vFA_PXWkLKQEcv8HQbVQF83-qix5-w","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_base","expires_in":7200}
2018-04-01 19:34:43.897  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-01 19:34:43.898  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_Qy8KoJQCQt9e-MCumShYpJNlAg18TV5hHbeZl8zj9rU-RiAUNU0rMKZBvr6fXMPFWKirUr9Sqkd9WLQtBts39w , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-01 19:34:43.899  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_Qy8KoJQCQt9e-MCumShYpJNlAg18TV5hHbeZl8zj9rU-RiAUNU0rMKZBvr6fXMPFWKirUr9Sqkd9WLQtBts39w&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-01 19:34:44.083  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-01 19:34:44.083  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-01 19:34:44.083  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户性别:男
2018-04-01 19:34:44.083  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-01 19:42:23.516  WARN 16252 --- [http-nio-80-exec-2] o.s.web.servlet.PageNotFound             : Request method 'POST' not supported
2018-04-01 19:42:33.145  INFO 16252 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-01 19:42:33.147  INFO 16252 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:081lfSbn1i1Wbk07V1an1ubecn1lfSbO , state:STAT
2018-04-01 19:42:33.148  INFO 16252 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_base&state=STAT#wechat_redirect
2018-04-01 19:42:33.149  INFO 16252 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=081lfSbn1i1Wbk07V1an1ubecn1lfSbO&grant_type=authorization_code
2018-04-01 19:42:33.368  INFO 16252 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_aO-Wf1nZafXKN1fUbgD1sHaMeUVs7Wkn1UMxx8G3vP__FzNvVykHkljVBmzQRJsObaEwIaJgPoge-MqTPT3FKg","refresh_token":"8_7yDzb8t4lTIGCbqDbFEoUyb_YrFHiIIzoH4u1yQ-0b-cEGocDVjS4Vzv8x7nNWW9-H16A_GGVVfKdTixFSMBng","openid":"oJdcO1UimR7HbU0incOhVQCT0vzo","scope":"snsapi_base","expires_in":7200}
2018-04-01 19:42:33.368  INFO 16252 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-01 19:42:33.370  INFO 16252 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : WebAccessToken:8_aO-Wf1nZafXKN1fUbgD1sHaMeUVs7Wkn1UMxx8G3vP__FzNvVykHkljVBmzQRJsObaEwIaJgPoge-MqTPT3FKg , openId:oJdcO1UimR7HbU0incOhVQCT0vzo
2018-04-01 19:42:33.371  INFO 16252 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_aO-Wf1nZafXKN1fUbgD1sHaMeUVs7Wkn1UMxx8G3vP__FzNvVykHkljVBmzQRJsObaEwIaJgPoge-MqTPT3FKg&openid=oJdcO1UimR7HbU0incOhVQCT0vzo&lang=zh_CN
2018-04-01 19:42:33.547  INFO 16252 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":48001,"errmsg":"api unauthorized, hints: [ req_id: 7xACfA0953s108 ]"}
2018-04-01 19:42:33.591 ERROR 16252 --- [http-nio-80-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:121) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-01 19:44:28.949  INFO 15704 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 15704 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 19:44:28.955  INFO 15704 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-01 19:44:29.256  INFO 15704 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 19:44:29 CST 2018]; root of context hierarchy
2018-04-01 19:44:31.775  INFO 15704 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-01 19:44:31.793  INFO 15704 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-01 19:44:31.794  INFO 15704 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-01 19:44:32.076  INFO 15704 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-01 19:44:32.076  INFO 15704 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2849 ms
2018-04-01 19:44:32.362  INFO 15704 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-01 19:44:32.369  INFO 15704 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-01 19:44:32.370  INFO 15704 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-01 19:44:32.370  INFO 15704 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-01 19:44:32.371  INFO 15704 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-01 19:44:33.090  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 19:44:29 CST 2018]; root of context hierarchy
2018-04-01 19:44:33.172  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-01 19:44:33.176  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 19:44:33.178  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 19:44:33.178  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 19:44:33.179  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 19:44:33.180  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 19:44:33.181  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-01 19:44:33.183  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 19:44:33.184  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 19:44:33.227  INFO 15704 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 19:44:33.229  INFO 15704 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 19:44:33.278  INFO 15704 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 19:44:33.335  INFO 15704 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-01 19:44:33.590  INFO 15704 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-01 19:44:33.662  INFO 15704 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-01 19:44:33.668  INFO 15704 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 5.598 seconds (JVM running for 7.803)
2018-04-01 19:45:16.922  INFO 15704 --- [http-nio-80-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-01 19:45:16.923  INFO 15704 --- [http-nio-80-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-01 19:45:16.966  INFO 15704 --- [http-nio-80-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 42 ms
2018-04-01 19:45:17.011  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-01 19:45:17.012  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:011Cz8gE0sPObe2bolgE0HyQfE0Cz8gv , state:STAT
2018-04-01 19:45:17.014  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-01 19:45:17.014  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=011Cz8gE0sPObe2bolgE0HyQfE0Cz8gv&grant_type=authorization_code
2018-04-01 19:45:17.801  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_Pw42pIwLwB6YcRQLozlIJbWIDzl9NHS_MX4XlZpEcG2HBMOxC9V9mj-T7VCrVsGtWmbqvJSIgrj1lKYX80MN4KWg79mfy91q29txLooHOAk","refresh_token":"8_l0N3rOih2EUhkP58F_ex8kVazWygfTvsSiHwzAdi-XiibhL1ogyLoNpRQK7kA0fpk3fgTapKcTZTyFiRlEFK3YkDs8ufJVsR6rKx5Qq5G88","openid":"oJdcO1UimR7HbU0incOhVQCT0vzo","scope":"snsapi_userinfo","expires_in":7200}
2018-04-01 19:45:17.802  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-01 19:45:17.802  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : WebAccessToken:8_Pw42pIwLwB6YcRQLozlIJbWIDzl9NHS_MX4XlZpEcG2HBMOxC9V9mj-T7VCrVsGtWmbqvJSIgrj1lKYX80MN4KWg79mfy91q29txLooHOAk , openId:oJdcO1UimR7HbU0incOhVQCT0vzo
2018-04-01 19:45:17.804  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_Pw42pIwLwB6YcRQLozlIJbWIDzl9NHS_MX4XlZpEcG2HBMOxC9V9mj-T7VCrVsGtWmbqvJSIgrj1lKYX80MN4KWg79mfy91q29txLooHOAk&openid=oJdcO1UimR7HbU0incOhVQCT0vzo&lang=zh_CN
2018-04-01 19:45:17.988  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"上海","city":"闵行","openid":"oJdcO1UimR7HbU0incOhVQCT0vzo","sex":2,"nickname":"🌞何姗","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ6gKNZ0Cknia70L3KQCpsuwJMv3Bjb0hkicm0IHBHXC99kKEplM9A0ISGmW560e01fHykrTfeicmQiag/132","language":"zh_CN","privilege":[]}
2018-04-01 19:45:17.989  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户昵称:🌞何姗
2018-04-01 19:45:17.989  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户性别:女
2018-04-01 19:45:17.990  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : OpenId:oJdcO1UimR7HbU0incOhVQCT0vzo
2018-04-01 23:18:52.892  INFO 16944 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 16944 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 23:18:52.900  INFO 16944 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-01 23:18:53.061  INFO 16944 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 23:18:53 CST 2018]; root of context hierarchy
2018-04-01 23:18:55.993  INFO 16944 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-01 23:18:56.013  INFO 16944 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-01 23:18:56.015  INFO 16944 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-01 23:18:56.277  INFO 16944 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-01 23:18:56.278  INFO 16944 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3221 ms
2018-04-01 23:18:56.586  INFO 16944 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-01 23:18:56.608  INFO 16944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-01 23:18:56.609  INFO 16944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-01 23:18:56.610  INFO 16944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-01 23:18:56.611  INFO 16944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-01 23:18:57.452  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 23:18:53 CST 2018]; root of context hierarchy
2018-04-01 23:18:57.535  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-01 23:18:57.540  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 23:18:57.542  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 23:18:57.542  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 23:18:57.543  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 23:18:57.543  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 23:18:57.543  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-01 23:18:57.546  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 23:18:57.547  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 23:18:57.606  INFO 16944 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 23:18:57.608  INFO 16944 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 23:18:57.675  INFO 16944 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 23:18:57.719  INFO 16944 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-01 23:18:58.018  INFO 16944 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-01 23:18:58.105  INFO 16944 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-01 23:18:58.111  INFO 16944 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 6.107 seconds (JVM running for 8.288)
