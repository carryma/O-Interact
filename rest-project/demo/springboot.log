2018-04-01 14:20:58.997  INFO 31040 --- [main] com.example.demo.DemoApplicationTests    : Starting DemoApplicationTests on KANMA-CN with PID 31040 (started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 14:20:58.999  INFO 31040 --- [main] com.example.demo.DemoApplicationTests    : No active profile set, falling back to default profiles: default
2018-04-01 14:20:59.093  INFO 31040 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@c86b9e3: startup date [Sun Apr 01 14:20:59 CST 2018]; root of context hierarchy
2018-04-01 14:21:03.724  INFO 31040 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@c86b9e3: startup date [Sun Apr 01 14:20:59 CST 2018]; root of context hierarchy
2018-04-01 14:21:03.997  INFO 31040 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 14:21:04.003  INFO 31040 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 14:21:04.004  INFO 31040 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 14:21:04.005  INFO 31040 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 14:21:04.013  INFO 31040 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 14:21:04.022  INFO 31040 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 14:21:04.022  INFO 31040 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 14:21:04.107  INFO 31040 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 14:21:04.108  INFO 31040 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 14:21:04.231  INFO 31040 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 14:21:04.356  INFO 31040 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: ServletContext resource [/index.html]
2018-04-01 14:21:04.896  INFO 31040 --- [main] com.example.demo.DemoApplicationTests    : Started DemoApplicationTests in 7.048 seconds (JVM running for 9.577)
2018-04-01 14:21:05.036  INFO 31040 --- [main] com.example.demo.entity.LoggerTest       : Hello, This is my first slf4j Logger
2018-04-01 14:21:05.047  INFO 31040 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@c86b9e3: startup date [Sun Apr 01 14:20:59 CST 2018]; root of context hierarchy
2018-04-01 14:50:00.779  INFO 6132 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 6132 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 14:50:00.779  INFO 6132 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-01 14:50:00.966  INFO 6132 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1b68b9a4: startup date [Sun Apr 01 14:50:00 CST 2018]; root of context hierarchy
2018-04-01 14:50:04.592  INFO 6132 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-01 14:50:04.623  INFO 6132 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-01 14:50:04.623  INFO 6132 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-01 14:50:05.123  INFO 6132 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-01 14:50:05.123  INFO 6132 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4188 ms
2018-04-01 14:50:05.545  INFO 6132 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-01 14:50:05.560  INFO 6132 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-01 14:50:05.560  INFO 6132 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-01 14:50:05.560  INFO 6132 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-01 14:50:05.560  INFO 6132 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-01 14:50:06.686  INFO 6132 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1b68b9a4: startup date [Sun Apr 01 14:50:00 CST 2018]; root of context hierarchy
2018-04-01 14:50:06.795  INFO 6132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 14:50:06.795  INFO 6132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 14:50:06.795  INFO 6132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 14:50:06.795  INFO 6132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 14:50:06.811  INFO 6132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 14:50:06.811  INFO 6132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-01 14:50:06.811  INFO 6132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 14:50:06.811  INFO 6132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 14:50:06.857  INFO 6132 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 14:50:06.857  INFO 6132 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 14:50:06.936  INFO 6132 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 14:50:06.982  INFO 6132 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-01 14:50:07.381  INFO 6132 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-01 14:50:07.678  INFO 6132 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-01 14:50:07.678  INFO 6132 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 7.681 seconds (JVM running for 11.19)
2018-04-01 15:24:02.328  INFO 6132 --- [http-nio-80-exec-9] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-01 15:24:02.329  INFO 6132 --- [http-nio-80-exec-9] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-01 15:24:02.368  INFO 6132 --- [http-nio-80-exec-9] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 38 ms
2018-04-01 15:59:20.054 ERROR 6132 --- [http-nio-80-exec-10] o.a.tomcat.jdbc.pool.ConnectionPool      : Unable to create initial connections of pool.

com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:989) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:341) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2192) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2225) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2024) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:779) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:389) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:330) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) [tomcat-jdbc-8.5.15.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:619) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:684) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:716) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:726) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:776) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.UserDaoImpl.findUserList(UserDaoImpl.java:51) [classes/:na]
	at com.example.demo.dao.daoimpl.UserDaoImpl$$FastClassBySpringCGLIB$$df7c0a15.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) [spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.UserDaoImpl$$EnhancerBySpringCGLIB$$1f8cec3b.findUserList(<generated>) [classes/:na]
	at com.example.demo.service.seviceimpl.UserServiceImpl.findUserList(UserServiceImpl.java:38) [classes/:na]
	at com.example.demo.controller.UserController.listUser(UserController.java:27) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method) ~[na:1.8.0_151]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_151]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_151]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_151]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_151]
	at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:300) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	... 93 common frames omitted

2018-04-01 16:00:51.094  INFO 880 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 880 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 16:00:51.100  INFO 880 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-01 16:00:51.280  INFO 880 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1b68b9a4: startup date [Sun Apr 01 16:00:51 CST 2018]; root of context hierarchy
2018-04-01 16:00:54.425  INFO 880 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-01 16:00:54.452  INFO 880 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-01 16:00:54.454  INFO 880 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-01 16:00:54.768  INFO 880 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-01 16:00:54.768  INFO 880 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3494 ms
2018-04-01 16:00:55.119  INFO 880 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-01 16:00:55.128  INFO 880 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-01 16:00:55.129  INFO 880 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-01 16:00:55.130  INFO 880 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-01 16:00:55.131  INFO 880 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-01 16:00:56.102  INFO 880 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@1b68b9a4: startup date [Sun Apr 01 16:00:51 CST 2018]; root of context hierarchy
2018-04-01 16:00:56.216  INFO 880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 16:00:56.219  INFO 880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 16:00:56.220  INFO 880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 16:00:56.221  INFO 880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 16:00:56.221  INFO 880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 16:00:56.222  INFO 880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-01 16:00:56.229  INFO 880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 16:00:56.230  INFO 880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 16:00:56.295  INFO 880 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 16:00:56.296  INFO 880 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 16:00:56.375  INFO 880 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 16:00:56.428  INFO 880 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-01 16:00:56.789  INFO 880 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-01 16:00:56.890  INFO 880 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-01 16:00:56.898  INFO 880 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 6.626 seconds (JVM running for 8.468)
2018-04-01 16:01:04.005  INFO 880 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-01 16:01:04.006  INFO 880 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-01 16:01:04.046  INFO 880 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 40 ms
2018-04-01 16:01:39.206  INFO 880 --- [http-nio-80-exec-7] c.e.demo.controller.WeChatController     : 微信-开始校验签名
2018-04-01 16:01:39.207  INFO 880 --- [http-nio-80-exec-7] c.e.demo.controller.WeChatController     : 收到来自微信的 echostr 字符串:4104443402973847523
2018-04-01 16:01:39.209  INFO 880 --- [http-nio-80-exec-7] c.e.demo.controller.WeChatController     : 微信-签名校验通过
2018-04-01 16:01:39.209  INFO 880 --- [http-nio-80-exec-7] c.e.demo.controller.WeChatController     : 回复给微信的 echostr 字符串:4104443402973847523
2018-04-01 16:09:36.130  WARN 880 --- [http-nio-80-exec-10] o.s.web.servlet.PageNotFound             : Request method 'POST' not supported
2018-04-01 16:15:44.487  INFO 880 --- [http-nio-80-exec-2] c.e.demo.controller.WeChatController     : 微信-开始校验签名
2018-04-01 16:15:44.488  INFO 880 --- [http-nio-80-exec-2] c.e.demo.controller.WeChatController     : 收到来自微信的 echostr 字符串:10707098075123261311
2018-04-01 16:15:44.488  INFO 880 --- [http-nio-80-exec-2] c.e.demo.controller.WeChatController     : 微信-签名校验通过
2018-04-01 16:15:44.490  INFO 880 --- [http-nio-80-exec-2] c.e.demo.controller.WeChatController     : 回复给微信的 echostr 字符串:10707098075123261311
2018-04-01 18:33:38.766  INFO 3516 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 3516 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 18:33:38.772  INFO 3516 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-01 18:33:38.892  INFO 3516 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 18:33:38 CST 2018]; root of context hierarchy
2018-04-01 18:33:41.726  INFO 3516 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-01 18:33:41.744  INFO 3516 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-01 18:33:41.745  INFO 3516 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-01 18:33:42.011  INFO 3516 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-01 18:33:42.011  INFO 3516 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3123 ms
2018-04-01 18:33:42.250  INFO 3516 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-01 18:33:42.258  INFO 3516 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-01 18:33:42.258  INFO 3516 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-01 18:33:42.258  INFO 3516 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-01 18:33:42.258  INFO 3516 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-01 18:33:42.932  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 18:33:38 CST 2018]; root of context hierarchy
2018-04-01 18:33:43.005  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-01 18:33:43.009  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 18:33:43.011  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 18:33:43.011  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 18:33:43.011  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 18:33:43.011  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 18:33:43.012  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-01 18:33:43.015  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 18:33:43.015  INFO 3516 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 18:33:43.056  INFO 3516 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:33:43.057  INFO 3516 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:33:43.112  INFO 3516 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:33:43.144  INFO 3516 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-01 18:33:43.361  INFO 3516 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-01 18:33:43.434  INFO 3516 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-01 18:33:43.440  INFO 3516 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 5.65 seconds (JVM running for 7.766)
2018-04-01 18:37:29.209  INFO 4440 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 4440 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 18:37:29.217  INFO 4440 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-01 18:37:29.349  INFO 4440 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 18:37:29 CST 2018]; root of context hierarchy
2018-04-01 18:37:32.219  INFO 4440 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-01 18:37:32.238  INFO 4440 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-01 18:37:32.240  INFO 4440 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-01 18:37:32.481  INFO 4440 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-01 18:37:32.482  INFO 4440 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3139 ms
2018-04-01 18:37:32.721  INFO 4440 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-01 18:37:32.727  INFO 4440 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-01 18:37:32.727  INFO 4440 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-01 18:37:32.728  INFO 4440 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-01 18:37:32.728  INFO 4440 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-01 18:37:33.457  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 18:37:29 CST 2018]; root of context hierarchy
2018-04-01 18:37:33.536  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-01 18:37:33.540  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 18:37:33.541  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 18:37:33.541  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 18:37:33.543  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 18:37:33.543  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 18:37:33.545  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-01 18:37:33.548  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 18:37:33.549  INFO 4440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 18:37:33.587  INFO 4440 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:37:33.588  INFO 4440 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:37:33.654  INFO 4440 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:37:33.690  INFO 4440 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-01 18:37:34.013  INFO 4440 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-01 18:37:34.118  INFO 4440 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-01 18:37:34.123  INFO 4440 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 5.917 seconds (JVM running for 7.796)
2018-04-01 18:41:54.769  INFO 15144 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 15144 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 18:41:54.796  INFO 15144 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-01 18:41:55.043  INFO 15144 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 18:41:55 CST 2018]; root of context hierarchy
2018-04-01 18:41:57.391  INFO 15144 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-01 18:41:57.406  INFO 15144 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-01 18:41:57.408  INFO 15144 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-01 18:41:57.635  INFO 15144 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-01 18:41:57.635  INFO 15144 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2598 ms
2018-04-01 18:41:57.911  INFO 15144 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-01 18:41:57.918  INFO 15144 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-01 18:41:57.919  INFO 15144 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-01 18:41:57.919  INFO 15144 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-01 18:41:57.919  INFO 15144 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-01 18:41:58.635  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 18:41:55 CST 2018]; root of context hierarchy
2018-04-01 18:41:58.715  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-01 18:41:58.717  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 18:41:58.719  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 18:41:58.719  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 18:41:58.719  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 18:41:58.719  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 18:41:58.720  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-01 18:41:58.723  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 18:41:58.724  INFO 15144 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 18:41:58.764  INFO 15144 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:41:58.765  INFO 15144 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:41:58.812  INFO 15144 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:41:58.849  INFO 15144 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-01 18:41:59.085  INFO 15144 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-01 18:41:59.177  INFO 15144 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-01 18:41:59.188  INFO 15144 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 5.249 seconds (JVM running for 8.021)
2018-04-01 18:42:43.124  INFO 15144 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-01 18:42:43.124  INFO 15144 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-01 18:42:43.163  INFO 15144 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 38 ms
2018-04-01 18:42:43.200  INFO 15144 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-01 18:42:43.201  INFO 15144 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:081CAzaP0MDM2c2hF0dP06pvaP0CAzaf , state:STAT
2018-04-01 18:42:43.203  INFO 15144 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-01 18:42:43.203  INFO 15144 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=ef3bf3298a46a0b4ecefd9102c758cdc&code=081CAzaP0MDM2c2hF0dP06pvaP0CAzaf&grant_type=authorization_code
2018-04-01 18:42:44.311  INFO 15144 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"errcode":40125,"errmsg":"invalid appsecret, view more at http://t.cn/RAEkdVq, hints: [ req_id: eG9wka0364th56 ]"}
2018-04-01 18:42:44.313  INFO 15144 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-01 18:42:44.313  INFO 15144 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:null , openId:null
2018-04-01 18:42:44.313  INFO 15144 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=null&openid=null&lang=zh_CN
2018-04-01 18:42:44.430  INFO 15144 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":40001,"errmsg":"invalid credential, access_token is invalid or not latest, hints: [ req_id: 0fRHNa0364s108 ]"}
2018-04-01 18:42:44.460 ERROR 15144 --- [http-nio-80-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:120) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-01 18:42:44.698  INFO 15144 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-01 18:42:44.701  INFO 15144 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:081CAzaP0MDM2c2hF0dP06pvaP0CAzaf , state:STAT
2018-04-01 18:42:44.701  INFO 15144 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-01 18:42:44.702  INFO 15144 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=ef3bf3298a46a0b4ecefd9102c758cdc&code=081CAzaP0MDM2c2hF0dP06pvaP0CAzaf&grant_type=authorization_code
2018-04-01 18:42:44.836  INFO 15144 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"errcode":40125,"errmsg":"invalid appsecret, view more at http://t.cn/RAEkdVq, hints: [ req_id: Uv7ruA0364th31 ]"}
2018-04-01 18:42:44.837  INFO 15144 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-01 18:42:44.837  INFO 15144 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : WebAccessToken:null , openId:null
2018-04-01 18:42:44.837  INFO 15144 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=null&openid=null&lang=zh_CN
2018-04-01 18:42:44.940  INFO 15144 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":40001,"errmsg":"invalid credential, access_token is invalid or not latest, hints: [ req_id: GQuMRA0364s156 ]"}
2018-04-01 18:42:44.944 ERROR 15144 --- [http-nio-80-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:120) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-01 18:44:48.641  INFO 3532 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 3532 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 18:44:48.656  INFO 3532 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-01 18:44:48.802  INFO 3532 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 18:44:48 CST 2018]; root of context hierarchy
2018-04-01 18:44:52.095  INFO 3532 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-01 18:44:52.108  INFO 3532 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-01 18:44:52.109  INFO 3532 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-01 18:44:52.399  INFO 3532 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-01 18:44:52.400  INFO 3532 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3602 ms
2018-04-01 18:44:52.668  INFO 3532 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-01 18:44:52.685  INFO 3532 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-01 18:44:52.686  INFO 3532 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-01 18:44:52.687  INFO 3532 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-01 18:44:52.688  INFO 3532 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-01 18:44:53.531  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 18:44:48 CST 2018]; root of context hierarchy
2018-04-01 18:44:53.643  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-01 18:44:53.648  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 18:44:53.650  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 18:44:53.650  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 18:44:53.652  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 18:44:53.652  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 18:44:53.654  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-01 18:44:53.657  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 18:44:53.658  INFO 3532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 18:44:53.698  INFO 3532 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:44:53.699  INFO 3532 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:44:53.750  INFO 3532 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 18:44:53.813  INFO 3532 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-01 18:44:54.093  INFO 3532 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-01 18:44:54.189  INFO 3532 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-01 18:44:54.198  INFO 3532 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 6.536 seconds (JVM running for 9.42)
2018-04-01 18:45:14.955  INFO 3532 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-01 18:45:14.955  INFO 3532 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-01 18:45:14.997  INFO 3532 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 41 ms
2018-04-01 18:45:15.034  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-01 18:45:15.034  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:001ecm901idgbZ1eDe8018Ys901ecm9l , state:STAT
2018-04-01 18:45:15.036  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-01 18:45:15.036  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=001ecm901idgbZ1eDe8018Ys901ecm9l&grant_type=authorization_code
2018-04-01 18:45:15.875  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_2_s--NJvWUTmAL1g-EnkJWT6d-MvHOFhpXKCCWqeoNehR1UjpsxnSaqK3R2OIR4ysk9guPUBwqcD21yVT9c9QT6xfLhLrFdDcPwTGelC7dU","refresh_token":"8_VhOsEltk1dtP-YJoLlDL430lnpGq9vS2NvUdi9SDprPa11fDFArDaI9toGXkRgOBU8bGqJx2ECZGpzZ45YDQ6cdCln2aQAWL-4FL4RofTc4","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-01 18:45:15.875  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-01 18:45:15.876  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_2_s--NJvWUTmAL1g-EnkJWT6d-MvHOFhpXKCCWqeoNehR1UjpsxnSaqK3R2OIR4ysk9guPUBwqcD21yVT9c9QT6xfLhLrFdDcPwTGelC7dU , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-01 18:45:15.877  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_2_s--NJvWUTmAL1g-EnkJWT6d-MvHOFhpXKCCWqeoNehR1UjpsxnSaqK3R2OIR4ysk9guPUBwqcD21yVT9c9QT6xfLhLrFdDcPwTGelC7dU&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-01 18:45:16.082  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-01 18:45:16.083  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-01 18:45:16.083  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户性别:男
2018-04-01 18:45:16.084  INFO 3532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-01 18:55:48.518  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-01 18:55:48.519  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:011iaEba2N4h1P0Jpq8a2Iyoba2iaEb7 , state:STAT
2018-04-01 18:55:48.520  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-01 18:55:48.521  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=011iaEba2N4h1P0Jpq8a2Iyoba2iaEb7&grant_type=authorization_code
2018-04-01 18:55:48.882  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_w_IZJAwytDk3nOPysLRweeR9Xc6DInIQELn9ERaMgRkmckNL5tF-LBKq59pR-y0Mxl3IzJ22Yu3UajmNz8gMTt6RpwEN86FMG40oYErqQjs","refresh_token":"8_M5UbZScfPeBBnfeHXIrDcTVW61G6NDyufCekx2HN3Ni4gPV3dom5-NoevldjU76fM0WPu8NVpi-uLyHKR-4HS4iLc-iJYOelk9M68T0nyTA","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-01 18:55:48.882  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-01 18:55:48.882  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : WebAccessToken:8_w_IZJAwytDk3nOPysLRweeR9Xc6DInIQELn9ERaMgRkmckNL5tF-LBKq59pR-y0Mxl3IzJ22Yu3UajmNz8gMTt6RpwEN86FMG40oYErqQjs , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-01 18:55:48.883  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_w_IZJAwytDk3nOPysLRweeR9Xc6DInIQELn9ERaMgRkmckNL5tF-LBKq59pR-y0Mxl3IzJ22Yu3UajmNz8gMTt6RpwEN86FMG40oYErqQjs&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-01 18:55:49.038  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-01 18:55:49.038  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-01 18:55:49.039  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户性别:男
2018-04-01 18:55:49.039  INFO 3532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-01 18:57:13.575  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-01 18:57:13.576  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:0616cxI81Ni49Q1f5HH81lfRI816cxIX , state:STAT
2018-04-01 18:57:13.577  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-01 18:57:13.579  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=0616cxI81Ni49Q1f5HH81lfRI816cxIX&grant_type=authorization_code
2018-04-01 18:57:13.780  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_gaNt12hlYaVJLk_qUxvWgm1Zcz1yUrfXQ7ZxmsvbORL4EvvxwbzpR5wH6zGRtoNUCghYCno35oxb1vFAceN-1yOCvtLfNrNlo2WzV-Tik7Q","refresh_token":"8_YCBmUS2HZyw07gaODX_RwbbNTExGt7WU8T025EITBrcm4-V-k7qWRFnPE9x5MAoatjx_nd4sxqpg71yHZ8qyJnsCZoK61oX3cH9RCHVwKik","openid":"oJdcO1TGWGBAcEmrcey_0tCgUuc8","scope":"snsapi_userinfo","expires_in":7200}
2018-04-01 18:57:13.781  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-01 18:57:13.781  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : WebAccessToken:8_gaNt12hlYaVJLk_qUxvWgm1Zcz1yUrfXQ7ZxmsvbORL4EvvxwbzpR5wH6zGRtoNUCghYCno35oxb1vFAceN-1yOCvtLfNrNlo2WzV-Tik7Q , openId:oJdcO1TGWGBAcEmrcey_0tCgUuc8
2018-04-01 18:57:13.782  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_gaNt12hlYaVJLk_qUxvWgm1Zcz1yUrfXQ7ZxmsvbORL4EvvxwbzpR5wH6zGRtoNUCghYCno35oxb1vFAceN-1yOCvtLfNrNlo2WzV-Tik7Q&openid=oJdcO1TGWGBAcEmrcey_0tCgUuc8&lang=zh_CN
2018-04-01 18:57:13.940  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"苏州","openid":"oJdcO1TGWGBAcEmrcey_0tCgUuc8","sex":1,"nickname":"吴越","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epQYTiaNibCibjCoze8bzTcbUguaBicseDv7FItek54kIU09SO7yQX5q8y4AEibmtpkePXGz7UZ7KtIatQ/132","language":"zh_CN","privilege":[]}
2018-04-01 18:57:13.940  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 用户昵称:吴越
2018-04-01 18:57:13.940  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 用户性别:男
2018-04-01 18:57:13.941  INFO 3532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : OpenId:oJdcO1TGWGBAcEmrcey_0tCgUuc8
2018-04-01 18:58:06.297  WARN 3532 --- [http-nio-80-exec-4] o.s.web.servlet.PageNotFound             : Request method 'POST' not supported
2018-04-01 18:58:21.598  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-01 18:58:21.600  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:001kzdnQ0BeAH822avoQ0UvfnQ0kzdn7 , state:STAT
2018-04-01 18:58:21.601  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-01 18:58:21.601  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=001kzdnQ0BeAH822avoQ0UvfnQ0kzdn7&grant_type=authorization_code
2018-04-01 18:58:21.797  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_LzhHTEaOHpCdLuop3sCYlv8yqG4svaNwg2jbGMCGXXsDPMUCGZ9bJa05QTQG8oNlxqEsRwFEIjWoyT8uElE_togAPPgfjG9VjDFsAhwxxHk","refresh_token":"8_RfoH009Fv-Dr3bGoI8HPOmiDBzrXH28hKR4VwXTJubYAGW4CJZJgYdl9_RUNc7US4mqT-lpqXoLb4h6JoVKHEopEKF-Dp1UediRNLTVBzFY","openid":"oJdcO1fOnBFdl2FkSn61NNlKUPJs","scope":"snsapi_userinfo","expires_in":7200}
2018-04-01 18:58:21.797  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-01 18:58:21.798  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : WebAccessToken:8_LzhHTEaOHpCdLuop3sCYlv8yqG4svaNwg2jbGMCGXXsDPMUCGZ9bJa05QTQG8oNlxqEsRwFEIjWoyT8uElE_togAPPgfjG9VjDFsAhwxxHk , openId:oJdcO1fOnBFdl2FkSn61NNlKUPJs
2018-04-01 18:58:21.798  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_LzhHTEaOHpCdLuop3sCYlv8yqG4svaNwg2jbGMCGXXsDPMUCGZ9bJa05QTQG8oNlxqEsRwFEIjWoyT8uElE_togAPPgfjG9VjDFsAhwxxHk&openid=oJdcO1fOnBFdl2FkSn61NNlKUPJs&lang=zh_CN
2018-04-01 18:58:21.983  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"苏州","openid":"oJdcO1fOnBFdl2FkSn61NNlKUPJs","sex":2,"nickname":"马笑笑;)","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKGQw5vDSJ5O8MKPAQNrknN4EPTypRibWD2XhLJY0k1aMkXgLQibU4BeM2RiaPaxkNRYcSDibjfTFgX5Q/132","language":"zh_CN","privilege":[]}
2018-04-01 18:58:21.983  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 用户昵称:马笑笑;)
2018-04-01 18:58:21.985  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 用户性别:女
2018-04-01 18:58:21.985  INFO 3532 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : OpenId:oJdcO1fOnBFdl2FkSn61NNlKUPJs
2018-04-01 19:28:34.861  WARN 3532 --- [http-nio-80-exec-2] o.s.web.servlet.PageNotFound             : Request method 'POST' not supported
2018-04-01 19:32:07.822  INFO 16252 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 16252 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 19:32:07.829  INFO 16252 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-01 19:32:08.014  INFO 16252 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 19:32:08 CST 2018]; root of context hierarchy
2018-04-01 19:32:10.630  INFO 16252 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-01 19:32:10.655  INFO 16252 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-01 19:32:10.656  INFO 16252 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-01 19:32:10.902  INFO 16252 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-01 19:32:10.903  INFO 16252 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2894 ms
2018-04-01 19:32:11.181  INFO 16252 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-01 19:32:11.189  INFO 16252 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-01 19:32:11.189  INFO 16252 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-01 19:32:11.189  INFO 16252 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-01 19:32:11.190  INFO 16252 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-01 19:32:11.926  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 19:32:08 CST 2018]; root of context hierarchy
2018-04-01 19:32:12.005  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-01 19:32:12.010  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 19:32:12.011  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 19:32:12.012  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 19:32:12.013  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 19:32:12.013  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 19:32:12.014  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-01 19:32:12.016  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 19:32:12.017  INFO 16252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 19:32:12.066  INFO 16252 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 19:32:12.070  INFO 16252 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 19:32:12.143  INFO 16252 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 19:32:12.190  INFO 16252 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-01 19:32:12.528  INFO 16252 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-01 19:32:12.688  INFO 16252 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-01 19:32:12.694  INFO 16252 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 5.946 seconds (JVM running for 8.716)
2018-04-01 19:34:43.119  INFO 16252 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-01 19:34:43.120  INFO 16252 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-01 19:34:43.157  INFO 16252 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 36 ms
2018-04-01 19:34:43.192  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-01 19:34:43.192  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:061TmzwI1mcY1809hbAI1GQGwI1TmzwA , state:STAT
2018-04-01 19:34:43.194  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_base&state=STAT#wechat_redirect
2018-04-01 19:34:43.194  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=061TmzwI1mcY1809hbAI1GQGwI1TmzwA&grant_type=authorization_code
2018-04-01 19:34:43.897  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_Qy8KoJQCQt9e-MCumShYpJNlAg18TV5hHbeZl8zj9rU-RiAUNU0rMKZBvr6fXMPFWKirUr9Sqkd9WLQtBts39w","refresh_token":"8_XdIur1z19FOenuaQ-fRCvG3On1D4px8AFmhp7BLK1URP5hHr5Ljlp9F3vFA_PXWkLKQEcv8HQbVQF83-qix5-w","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_base","expires_in":7200}
2018-04-01 19:34:43.897  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-01 19:34:43.898  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_Qy8KoJQCQt9e-MCumShYpJNlAg18TV5hHbeZl8zj9rU-RiAUNU0rMKZBvr6fXMPFWKirUr9Sqkd9WLQtBts39w , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-01 19:34:43.899  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_Qy8KoJQCQt9e-MCumShYpJNlAg18TV5hHbeZl8zj9rU-RiAUNU0rMKZBvr6fXMPFWKirUr9Sqkd9WLQtBts39w&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-01 19:34:44.083  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-01 19:34:44.083  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-01 19:34:44.083  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户性别:男
2018-04-01 19:34:44.083  INFO 16252 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-01 19:42:23.516  WARN 16252 --- [http-nio-80-exec-2] o.s.web.servlet.PageNotFound             : Request method 'POST' not supported
2018-04-01 19:42:33.145  INFO 16252 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-01 19:42:33.147  INFO 16252 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:081lfSbn1i1Wbk07V1an1ubecn1lfSbO , state:STAT
2018-04-01 19:42:33.148  INFO 16252 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_base&state=STAT#wechat_redirect
2018-04-01 19:42:33.149  INFO 16252 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=081lfSbn1i1Wbk07V1an1ubecn1lfSbO&grant_type=authorization_code
2018-04-01 19:42:33.368  INFO 16252 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_aO-Wf1nZafXKN1fUbgD1sHaMeUVs7Wkn1UMxx8G3vP__FzNvVykHkljVBmzQRJsObaEwIaJgPoge-MqTPT3FKg","refresh_token":"8_7yDzb8t4lTIGCbqDbFEoUyb_YrFHiIIzoH4u1yQ-0b-cEGocDVjS4Vzv8x7nNWW9-H16A_GGVVfKdTixFSMBng","openid":"oJdcO1UimR7HbU0incOhVQCT0vzo","scope":"snsapi_base","expires_in":7200}
2018-04-01 19:42:33.368  INFO 16252 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-01 19:42:33.370  INFO 16252 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : WebAccessToken:8_aO-Wf1nZafXKN1fUbgD1sHaMeUVs7Wkn1UMxx8G3vP__FzNvVykHkljVBmzQRJsObaEwIaJgPoge-MqTPT3FKg , openId:oJdcO1UimR7HbU0incOhVQCT0vzo
2018-04-01 19:42:33.371  INFO 16252 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_aO-Wf1nZafXKN1fUbgD1sHaMeUVs7Wkn1UMxx8G3vP__FzNvVykHkljVBmzQRJsObaEwIaJgPoge-MqTPT3FKg&openid=oJdcO1UimR7HbU0incOhVQCT0vzo&lang=zh_CN
2018-04-01 19:42:33.547  INFO 16252 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":48001,"errmsg":"api unauthorized, hints: [ req_id: 7xACfA0953s108 ]"}
2018-04-01 19:42:33.591 ERROR 16252 --- [http-nio-80-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:121) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-01 19:44:28.949  INFO 15704 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 15704 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 19:44:28.955  INFO 15704 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-01 19:44:29.256  INFO 15704 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 19:44:29 CST 2018]; root of context hierarchy
2018-04-01 19:44:31.775  INFO 15704 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-01 19:44:31.793  INFO 15704 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-01 19:44:31.794  INFO 15704 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-01 19:44:32.076  INFO 15704 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-01 19:44:32.076  INFO 15704 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2849 ms
2018-04-01 19:44:32.362  INFO 15704 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-01 19:44:32.369  INFO 15704 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-01 19:44:32.370  INFO 15704 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-01 19:44:32.370  INFO 15704 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-01 19:44:32.371  INFO 15704 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-01 19:44:33.090  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 19:44:29 CST 2018]; root of context hierarchy
2018-04-01 19:44:33.172  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-01 19:44:33.176  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 19:44:33.178  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 19:44:33.178  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 19:44:33.179  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 19:44:33.180  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 19:44:33.181  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-01 19:44:33.183  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 19:44:33.184  INFO 15704 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 19:44:33.227  INFO 15704 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 19:44:33.229  INFO 15704 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 19:44:33.278  INFO 15704 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 19:44:33.335  INFO 15704 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-01 19:44:33.590  INFO 15704 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-01 19:44:33.662  INFO 15704 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-01 19:44:33.668  INFO 15704 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 5.598 seconds (JVM running for 7.803)
2018-04-01 19:45:16.922  INFO 15704 --- [http-nio-80-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-01 19:45:16.923  INFO 15704 --- [http-nio-80-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-01 19:45:16.966  INFO 15704 --- [http-nio-80-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 42 ms
2018-04-01 19:45:17.011  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-01 19:45:17.012  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:011Cz8gE0sPObe2bolgE0HyQfE0Cz8gv , state:STAT
2018-04-01 19:45:17.014  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-01 19:45:17.014  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=011Cz8gE0sPObe2bolgE0HyQfE0Cz8gv&grant_type=authorization_code
2018-04-01 19:45:17.801  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_Pw42pIwLwB6YcRQLozlIJbWIDzl9NHS_MX4XlZpEcG2HBMOxC9V9mj-T7VCrVsGtWmbqvJSIgrj1lKYX80MN4KWg79mfy91q29txLooHOAk","refresh_token":"8_l0N3rOih2EUhkP58F_ex8kVazWygfTvsSiHwzAdi-XiibhL1ogyLoNpRQK7kA0fpk3fgTapKcTZTyFiRlEFK3YkDs8ufJVsR6rKx5Qq5G88","openid":"oJdcO1UimR7HbU0incOhVQCT0vzo","scope":"snsapi_userinfo","expires_in":7200}
2018-04-01 19:45:17.802  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-01 19:45:17.802  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : WebAccessToken:8_Pw42pIwLwB6YcRQLozlIJbWIDzl9NHS_MX4XlZpEcG2HBMOxC9V9mj-T7VCrVsGtWmbqvJSIgrj1lKYX80MN4KWg79mfy91q29txLooHOAk , openId:oJdcO1UimR7HbU0incOhVQCT0vzo
2018-04-01 19:45:17.804  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_Pw42pIwLwB6YcRQLozlIJbWIDzl9NHS_MX4XlZpEcG2HBMOxC9V9mj-T7VCrVsGtWmbqvJSIgrj1lKYX80MN4KWg79mfy91q29txLooHOAk&openid=oJdcO1UimR7HbU0incOhVQCT0vzo&lang=zh_CN
2018-04-01 19:45:17.988  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"上海","city":"闵行","openid":"oJdcO1UimR7HbU0incOhVQCT0vzo","sex":2,"nickname":"🌞何姗","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ6gKNZ0Cknia70L3KQCpsuwJMv3Bjb0hkicm0IHBHXC99kKEplM9A0ISGmW560e01fHykrTfeicmQiag/132","language":"zh_CN","privilege":[]}
2018-04-01 19:45:17.989  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户昵称:🌞何姗
2018-04-01 19:45:17.989  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户性别:女
2018-04-01 19:45:17.990  INFO 15704 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : OpenId:oJdcO1UimR7HbU0incOhVQCT0vzo
2018-04-01 23:18:52.892  INFO 16944 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 16944 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-01 23:18:52.900  INFO 16944 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-01 23:18:53.061  INFO 16944 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 23:18:53 CST 2018]; root of context hierarchy
2018-04-01 23:18:55.993  INFO 16944 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-01 23:18:56.013  INFO 16944 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-01 23:18:56.015  INFO 16944 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-01 23:18:56.277  INFO 16944 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-01 23:18:56.278  INFO 16944 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3221 ms
2018-04-01 23:18:56.586  INFO 16944 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-01 23:18:56.608  INFO 16944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-01 23:18:56.609  INFO 16944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-01 23:18:56.610  INFO 16944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-01 23:18:56.611  INFO 16944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-01 23:18:57.452  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sun Apr 01 23:18:53 CST 2018]; root of context hierarchy
2018-04-01 23:18:57.535  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-01 23:18:57.540  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-01 23:18:57.542  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-01 23:18:57.542  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-01 23:18:57.543  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-01 23:18:57.543  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-01 23:18:57.543  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-01 23:18:57.546  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-01 23:18:57.547  INFO 16944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-01 23:18:57.606  INFO 16944 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 23:18:57.608  INFO 16944 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 23:18:57.675  INFO 16944 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-01 23:18:57.719  INFO 16944 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-01 23:18:58.018  INFO 16944 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-01 23:18:58.105  INFO 16944 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-01 23:18:58.111  INFO 16944 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 6.107 seconds (JVM running for 8.288)
2018-04-02 01:21:25.398  INFO 2576 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 2576 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-02 01:21:25.404  INFO 2576 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-02 01:21:25.543  INFO 2576 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Mon Apr 02 01:21:25 CST 2018]; root of context hierarchy
2018-04-02 01:21:28.559  INFO 2576 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-02 01:21:28.586  INFO 2576 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-02 01:21:28.588  INFO 2576 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-02 01:21:28.956  INFO 2576 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-02 01:21:28.956  INFO 2576 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3418 ms
2018-04-02 01:21:29.332  INFO 2576 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-02 01:21:29.341  INFO 2576 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-02 01:21:29.342  INFO 2576 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-02 01:21:29.343  INFO 2576 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-02 01:21:29.344  INFO 2576 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-02 01:21:30.364  INFO 2576 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Mon Apr 02 01:21:25 CST 2018]; root of context hierarchy
2018-04-02 01:21:30.535  INFO 2576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-02 01:21:30.541  INFO 2576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-02 01:21:30.543  INFO 2576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-02 01:21:30.544  INFO 2576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-02 01:21:30.546  INFO 2576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-02 01:21:30.546  INFO 2576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-02 01:21:30.549  INFO 2576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-02 01:21:30.552  INFO 2576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-02 01:21:30.553  INFO 2576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-02 01:21:30.670  INFO 2576 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-02 01:21:30.671  INFO 2576 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-02 01:21:30.782  INFO 2576 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-02 01:21:30.826  INFO 2576 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-02 01:21:31.272  INFO 2576 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-02 01:21:31.387  INFO 2576 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-02 01:21:31.395  INFO 2576 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 7.07 seconds (JVM running for 9.931)
2018-04-02 01:21:57.811  INFO 2576 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-02 01:21:57.813  INFO 2576 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-02 01:21:57.875  INFO 2576 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 61 ms
2018-04-02 01:21:57.966  INFO 2576 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:21:57.966  INFO 2576 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:011sRfb62628SJ0gpPb62Ku6b62sRfbH , state:STAT
2018-04-02 01:21:57.969  INFO 2576 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:21:57.971  INFO 2576 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=011sRfb62628SJ0gpPb62Ku6b62sRfbH&grant_type=authorization_code
2018-04-02 01:21:58.926  INFO 2576 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_P_z5-fu92veRQh4yjJ9qcTTOKKWZQ_QfBQwb2ZfBRRXfzV2rkvJ4r2LmGbP2urKis_JmzEq5bbCvDZucbBb0ReH7u_Asbr72zy5eSrr63Pg","refresh_token":"8_64yDOJg7EcHgjoXOEFFySRtU5eO1Xq1ztZ4IXC-xrtIBjUZ0NMWqEZM_GYuL0fT2bO6Y46KvXSrwSPFk281w77Wdb34ldSqX35iCH7Ilvpw","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-02 01:21:58.928  INFO 2576 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:21:58.929  INFO 2576 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_P_z5-fu92veRQh4yjJ9qcTTOKKWZQ_QfBQwb2ZfBRRXfzV2rkvJ4r2LmGbP2urKis_JmzEq5bbCvDZucbBb0ReH7u_Asbr72zy5eSrr63Pg , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-02 01:21:58.931  INFO 2576 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_P_z5-fu92veRQh4yjJ9qcTTOKKWZQ_QfBQwb2ZfBRRXfzV2rkvJ4r2LmGbP2urKis_JmzEq5bbCvDZucbBb0ReH7u_Asbr72zy5eSrr63Pg&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-02 01:21:59.097  INFO 2576 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-02 01:21:59.943  INFO 2576 --- [http-nio-80-exec-1] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2018-04-02 01:22:00.109  INFO 2576 --- [http-nio-80-exec-1] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2018-04-02 01:22:00.144 ERROR 2576 --- [http-nio-80-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO wechat_user(open_id, nickname, head_img_url, sex, country, province, city, create_time) VALUES (?,?,?,?,?,?,?,?)]; Field 'id' doesn't have a default value; nested exception is java.sql.SQLException: Field 'id' doesn't have a default value] with root cause

java.sql.SQLException: Field 'id' doesn't have a default value
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:964) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2079) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy68.executeUpdate(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:877) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:25) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:155) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-02 01:22:00.316  INFO 2576 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:22:00.318  INFO 2576 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:011sRfb62628SJ0gpPb62Ku6b62sRfbH , state:STAT
2018-04-02 01:22:00.319  INFO 2576 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:22:00.320  INFO 2576 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=011sRfb62628SJ0gpPb62Ku6b62sRfbH&grant_type=authorization_code
2018-04-02 01:22:00.457  INFO 2576 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"errcode":40163,"errmsg":"code been used, hints: [ req_id: WHy8Aa0320th54 ]"}
2018-04-02 01:22:00.458  INFO 2576 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:22:00.458  INFO 2576 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : WebAccessToken:null , openId:null
2018-04-02 01:22:00.460  INFO 2576 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=null&openid=null&lang=zh_CN
2018-04-02 01:22:00.550  INFO 2576 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":40001,"errmsg":"invalid credential, access_token is invalid or not latest, hints: [ req_id: I71aPa0320s156 ]"}
2018-04-02 01:22:00.552 ERROR 2576 --- [http-nio-80-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NumberFormatException: null] with root cause

java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542) ~[na:1.8.0_151]
	at java.lang.Integer.parseInt(Integer.java:615) ~[na:1.8.0_151]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:137) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-02 01:28:48.530  INFO 3652 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 3652 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-02 01:28:48.536  INFO 3652 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-02 01:28:48.685  INFO 3652 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Mon Apr 02 01:28:48 CST 2018]; root of context hierarchy
2018-04-02 01:28:53.315  INFO 3652 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-02 01:28:53.344  INFO 3652 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-02 01:28:53.345  INFO 3652 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-02 01:28:53.703  INFO 3652 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-02 01:28:53.703  INFO 3652 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 5026 ms
2018-04-02 01:28:54.055  INFO 3652 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-02 01:28:54.064  INFO 3652 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-02 01:28:54.065  INFO 3652 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-02 01:28:54.065  INFO 3652 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-02 01:28:54.066  INFO 3652 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-02 01:28:55.024  INFO 3652 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Mon Apr 02 01:28:48 CST 2018]; root of context hierarchy
2018-04-02 01:28:55.136  INFO 3652 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-02 01:28:55.140  INFO 3652 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-02 01:28:55.143  INFO 3652 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-02 01:28:55.143  INFO 3652 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-02 01:28:55.145  INFO 3652 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-02 01:28:55.145  INFO 3652 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-02 01:28:55.147  INFO 3652 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-02 01:28:55.149  INFO 3652 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-02 01:28:55.149  INFO 3652 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-02 01:28:55.198  INFO 3652 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-02 01:28:55.199  INFO 3652 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-02 01:28:55.265  INFO 3652 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-02 01:28:55.355  INFO 3652 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-02 01:28:55.680  INFO 3652 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-02 01:28:55.761  INFO 3652 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-02 01:28:55.768  INFO 3652 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 8.183 seconds (JVM running for 11.088)
2018-04-02 01:29:20.062  INFO 3652 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-02 01:29:20.063  INFO 3652 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-02 01:29:20.108  INFO 3652 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 43 ms
2018-04-02 01:29:20.160  INFO 3652 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:29:20.160  INFO 3652 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:061EQkiC0j0Dcg255fgC0q6CiC0EQkiL , state:STAT
2018-04-02 01:29:20.163  INFO 3652 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:29:20.163  INFO 3652 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=061EQkiC0j0Dcg255fgC0q6CiC0EQkiL&grant_type=authorization_code
2018-04-02 01:29:21.042  INFO 3652 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_z-X6qndjVctYeLCki5jAFWjO_y5f06pX0zNK7LblnKFbSGFMp5D_aNts50W72PZH2Z17UwF9PbRYX4-L1TyPh4jAhdrc6CbClyAsYbWnBzI","refresh_token":"8_wiKcppUCAlkpqTYBnQIiI_0hFGcCJjmwLqp0jEidBxHKuh5eXTwxDfI7cEDSZFdIrQbcHSknvSHIQ_krJlOpjjpcEYlcNmHOi358c-8r9Tw","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-02 01:29:21.044  INFO 3652 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:29:21.044  INFO 3652 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_z-X6qndjVctYeLCki5jAFWjO_y5f06pX0zNK7LblnKFbSGFMp5D_aNts50W72PZH2Z17UwF9PbRYX4-L1TyPh4jAhdrc6CbClyAsYbWnBzI , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-02 01:29:21.045  INFO 3652 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_z-X6qndjVctYeLCki5jAFWjO_y5f06pX0zNK7LblnKFbSGFMp5D_aNts50W72PZH2Z17UwF9PbRYX4-L1TyPh4jAhdrc6CbClyAsYbWnBzI&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-02 01:29:21.219  INFO 3652 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-02 01:29:22.057  INFO 3652 --- [http-nio-80-exec-1] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2018-04-02 01:29:22.324  INFO 3652 --- [http-nio-80-exec-1] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2018-04-02 01:29:22.363 ERROR 3652 --- [http-nio-80-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO wechat_user(open_id, nickname, head_img_url, sex, country, province, city, create_time) VALUES (?,?,?,?,?,?,?,?)]; Data truncation: Data too long for column 'head_img_url' at row 1; nested exception is com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'head_img_url' at row 1] with root cause

com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'head_img_url' at row 1
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3971) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2079) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy68.executeUpdate(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:877) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:25) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$73653dc0.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:155) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-02 01:29:22.687  INFO 3652 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:29:22.688  INFO 3652 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:061EQkiC0j0Dcg255fgC0q6CiC0EQkiL , state:STAT
2018-04-02 01:29:22.688  INFO 3652 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:29:22.690  INFO 3652 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=061EQkiC0j0Dcg255fgC0q6CiC0EQkiL&grant_type=authorization_code
2018-04-02 01:29:22.832  INFO 3652 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"errcode":40163,"errmsg":"code been used, hints: [ req_id: CuqPra0762th19 ]"}
2018-04-02 01:29:22.832  INFO 3652 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:29:22.832  INFO 3652 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : WebAccessToken:null , openId:null
2018-04-02 01:29:22.833  INFO 3652 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=null&openid=null&lang=zh_CN
2018-04-02 01:29:22.950  INFO 3652 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":40001,"errmsg":"invalid credential, access_token is invalid or not latest, hints: [ req_id: kAbVqa0763s159 ]"}
2018-04-02 01:29:22.952 ERROR 3652 --- [http-nio-80-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NumberFormatException: null] with root cause

java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:542) ~[na:1.8.0_151]
	at java.lang.Integer.parseInt(Integer.java:615) ~[na:1.8.0_151]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:137) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-02 01:33:32.444  INFO 7124 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 7124 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-02 01:33:32.451  INFO 7124 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-02 01:33:32.699  INFO 7124 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Mon Apr 02 01:33:32 CST 2018]; root of context hierarchy
2018-04-02 01:33:35.603  INFO 7124 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-02 01:33:35.618  INFO 7124 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-02 01:33:35.619  INFO 7124 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-02 01:33:35.912  INFO 7124 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-02 01:33:35.913  INFO 7124 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3220 ms
2018-04-02 01:33:36.238  INFO 7124 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-02 01:33:36.247  INFO 7124 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-02 01:33:36.248  INFO 7124 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-02 01:33:36.248  INFO 7124 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-02 01:33:36.249  INFO 7124 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-02 01:33:37.062  INFO 7124 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Mon Apr 02 01:33:32 CST 2018]; root of context hierarchy
2018-04-02 01:33:37.162  INFO 7124 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-02 01:33:37.167  INFO 7124 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-02 01:33:37.167  INFO 7124 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-02 01:33:37.168  INFO 7124 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-02 01:33:37.169  INFO 7124 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-02 01:33:37.170  INFO 7124 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-02 01:33:37.171  INFO 7124 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-02 01:33:37.174  INFO 7124 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-02 01:33:37.175  INFO 7124 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-02 01:33:37.220  INFO 7124 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-02 01:33:37.222  INFO 7124 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-02 01:33:37.298  INFO 7124 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-02 01:33:37.369  INFO 7124 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-02 01:33:37.711  INFO 7124 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-02 01:33:37.796  INFO 7124 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-02 01:33:37.802  INFO 7124 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 6.395 seconds (JVM running for 8.528)
2018-04-02 01:33:56.236  INFO 7124 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-02 01:33:56.237  INFO 7124 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-02 01:33:56.282  INFO 7124 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 43 ms
2018-04-02 01:33:56.333  INFO 7124 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:33:56.333  INFO 7124 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:011RVcii1MiHjw0IREji16Q8ii1RVciy , state:STAT
2018-04-02 01:33:56.336  INFO 7124 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:33:56.336  INFO 7124 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=011RVcii1MiHjw0IREji16Q8ii1RVciy&grant_type=authorization_code
2018-04-02 01:33:57.100  INFO 7124 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_ShKKcTQHnp35YwcE2a8Sn4Vqi6sHfVSPfPD3anO8zYnZYPikg7nIUMdygG9VnvLO2sSnuRXrBncVp5otQe3tSUMVqOZUeT43N-rJdDnWenE","refresh_token":"8_HK47cE5WhtaJuJmOB_GZP1jwWoVDrrv5krDkpWAPuwXuolC8eNEomwFL2iaW0zBI8U2BLp3bBRxiOlVIVK4s1qK5sjtJOp1aRkrXadP1kMc","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-02 01:33:57.101  INFO 7124 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:33:57.101  INFO 7124 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_ShKKcTQHnp35YwcE2a8Sn4Vqi6sHfVSPfPD3anO8zYnZYPikg7nIUMdygG9VnvLO2sSnuRXrBncVp5otQe3tSUMVqOZUeT43N-rJdDnWenE , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-02 01:33:57.103  INFO 7124 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_ShKKcTQHnp35YwcE2a8Sn4Vqi6sHfVSPfPD3anO8zYnZYPikg7nIUMdygG9VnvLO2sSnuRXrBncVp5otQe3tSUMVqOZUeT43N-rJdDnWenE&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-02 01:33:57.271  INFO 7124 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-02 01:33:57.963  INFO 7124 --- [http-nio-80-exec-1] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2018-04-02 01:33:58.047  INFO 7124 --- [http-nio-80-exec-1] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2018-04-02 01:33:58.074 ERROR 7124 --- [http-nio-80-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO wechat_user(open_id, nickname, head_img_url, sex, country, province, city, create_time) VALUES (?,?,?,?,?,?,?,?)]; Data truncation: Data too long for column 'head_img_url' at row 1; nested exception is com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'head_img_url' at row 1] with root cause

com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'head_img_url' at row 1
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3971) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2079) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy68.executeUpdate(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:877) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:25) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$9fee0fd.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:155) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-02 01:33:58.353  INFO 7124 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:33:58.354  INFO 7124 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:011RVcii1MiHjw0IREji16Q8ii1RVciy , state:STAT
2018-04-02 01:33:58.354  INFO 7124 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:33:58.356  INFO 7124 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=011RVcii1MiHjw0IREji16Q8ii1RVciy&grant_type=authorization_code
2018-04-02 01:33:58.501  INFO 7124 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"errcode":40163,"errmsg":"code been used, hints: [ req_id: wiNcLA0038th41 ]"}
2018-04-02 01:33:58.502  INFO 7124 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:33:58.502  INFO 7124 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : WebAccessToken:null , openId:null
2018-04-02 01:33:58.502  INFO 7124 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=null&openid=null&lang=zh_CN
2018-04-02 01:33:58.618  INFO 7124 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":40001,"errmsg":"invalid credential, access_token is invalid or not latest, hints: [ req_id: WJ2bhA0038s179 ]"}
2018-04-02 01:33:58.626 ERROR 7124 --- [http-nio-80-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO wechat_user(open_id, nickname, head_img_url, sex, country, province, city, create_time) VALUES (?,?,?,?,?,?,?,?)]; Column 'open_id' cannot be null; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'open_id' cannot be null] with root cause

com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'open_id' cannot be null
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2079) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy68.executeUpdate(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:877) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:25) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$9fee0fd.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:155) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-02 01:37:39.405  INFO 7124 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:37:39.406  INFO 7124 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:001auXCe1I8Fdt0wBgAe19v5De1auXCB , state:STAT
2018-04-02 01:37:39.406  INFO 7124 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:37:39.406  INFO 7124 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=001auXCe1I8Fdt0wBgAe19v5De1auXCB&grant_type=authorization_code
2018-04-02 01:37:39.570  INFO 7124 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_vILyVLrz0g_NB1DQY_GuvxcbP5ZRnkb2z4EDqnoKRWnnpr-ZDtsds6PJq3wUjDfmcmUW2EMPd4NRSUeDTenOVlzEC5ub0GaK8r0StDpokMs","refresh_token":"8_PgPv0asdKmCVODV0jzpWUpX5euN23P4mYpz1ugtxqmkhHwUwpu1Ad4bJieNeCcVjVfFvzgR-WFm0OGQJQ2aNxrYbh7nxJqoAzyNaJM1rbhg","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-02 01:37:39.571  INFO 7124 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:37:39.571  INFO 7124 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : WebAccessToken:8_vILyVLrz0g_NB1DQY_GuvxcbP5ZRnkb2z4EDqnoKRWnnpr-ZDtsds6PJq3wUjDfmcmUW2EMPd4NRSUeDTenOVlzEC5ub0GaK8r0StDpokMs , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-02 01:37:39.571  INFO 7124 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_vILyVLrz0g_NB1DQY_GuvxcbP5ZRnkb2z4EDqnoKRWnnpr-ZDtsds6PJq3wUjDfmcmUW2EMPd4NRSUeDTenOVlzEC5ub0GaK8r0StDpokMs&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-02 01:37:39.711  INFO 7124 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-02 01:37:39.719 ERROR 7124 --- [http-nio-80-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO wechat_user(open_id, nickname, head_img_url, sex, country, province, city, create_time) VALUES (?,?,?,?,?,?,?,?)]; Data truncation: Data too long for column 'head_img_url' at row 1; nested exception is com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'head_img_url' at row 1] with root cause

com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'head_img_url' at row 1
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3971) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2079) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy68.executeUpdate(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:877) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:25) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$9fee0fd.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:155) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-02 01:37:40.655  INFO 7124 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:37:40.658  INFO 7124 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:001auXCe1I8Fdt0wBgAe19v5De1auXCB , state:STAT
2018-04-02 01:37:40.664  INFO 7124 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:37:40.666  INFO 7124 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=001auXCe1I8Fdt0wBgAe19v5De1auXCB&grant_type=authorization_code
2018-04-02 01:37:40.825  INFO 7124 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"errcode":40163,"errmsg":"code been used, hints: [ req_id: skeHeA0260th31 ]"}
2018-04-02 01:37:40.826  INFO 7124 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:37:40.826  INFO 7124 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : WebAccessToken:null , openId:null
2018-04-02 01:37:40.827  INFO 7124 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=null&openid=null&lang=zh_CN
2018-04-02 01:37:40.936  INFO 7124 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":40001,"errmsg":"invalid credential, access_token is invalid or not latest, hints: [ req_id: 1SUELA0261s155 ]"}
2018-04-02 01:37:40.940 ERROR 7124 --- [http-nio-80-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO wechat_user(open_id, nickname, head_img_url, sex, country, province, city, create_time) VALUES (?,?,?,?,?,?,?,?)]; Column 'open_id' cannot be null; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'open_id' cannot be null] with root cause

com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'open_id' cannot be null
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2079) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy68.executeUpdate(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:877) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:25) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$9fee0fd.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:155) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-02 01:38:09.459  INFO 7124 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:38:09.460  INFO 7124 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:011H95i62sMgqJ0qJIi62Ml4i62H95it , state:STAT
2018-04-02 01:38:09.460  INFO 7124 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:38:09.460  INFO 7124 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=011H95i62sMgqJ0qJIi62Ml4i62H95it&grant_type=authorization_code
2018-04-02 01:38:09.621  INFO 7124 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_Rsl6cAtg1hY3BYOB5GRinSWMi0vfkgQsyuat4ASgD3fMCbUStnot-dO4nLdke6j0pRgsbNYuUf7cBmJLMCND-0wT_djjuuRkN7--SGP_ZmI","refresh_token":"8_OO1bZp4BO2akPs-CHosT7jUPoCf0B5WvCoWSzeaJh7B_EDPQeD8KKQ8VWH80e8FudLHDe8jTr4o0t8oO5ri8a63pBrrzzqqx3o6aDKELjIg","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-02 01:38:09.622  INFO 7124 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:38:09.622  INFO 7124 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : WebAccessToken:8_Rsl6cAtg1hY3BYOB5GRinSWMi0vfkgQsyuat4ASgD3fMCbUStnot-dO4nLdke6j0pRgsbNYuUf7cBmJLMCND-0wT_djjuuRkN7--SGP_ZmI , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-02 01:38:09.622  INFO 7124 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_Rsl6cAtg1hY3BYOB5GRinSWMi0vfkgQsyuat4ASgD3fMCbUStnot-dO4nLdke6j0pRgsbNYuUf7cBmJLMCND-0wT_djjuuRkN7--SGP_ZmI&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-02 01:38:09.797  INFO 7124 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-02 01:38:09.804 ERROR 7124 --- [http-nio-80-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO wechat_user(open_id, nickname, head_img_url, sex, country, province, city, create_time) VALUES (?,?,?,?,?,?,?,?)]; Data truncation: Data too long for column 'head_img_url' at row 1; nested exception is com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'head_img_url' at row 1] with root cause

com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'head_img_url' at row 1
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3971) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2079) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy68.executeUpdate(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:877) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:25) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$9fee0fd.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:155) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-02 01:38:09.927  INFO 7124 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:38:09.927  INFO 7124 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:011H95i62sMgqJ0qJIi62Ml4i62H95it , state:STAT
2018-04-02 01:38:09.928  INFO 7124 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:38:09.929  INFO 7124 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=011H95i62sMgqJ0qJIi62Ml4i62H95it&grant_type=authorization_code
2018-04-02 01:38:10.075  INFO 7124 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"errcode":40163,"errmsg":"code been used, hints: [ req_id: 8lDk1a0290th31 ]"}
2018-04-02 01:38:10.076  INFO 7124 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:38:10.076  INFO 7124 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : WebAccessToken:null , openId:null
2018-04-02 01:38:10.077  INFO 7124 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=null&openid=null&lang=zh_CN
2018-04-02 01:38:10.185  INFO 7124 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":40001,"errmsg":"invalid credential, access_token is invalid or not latest, hints: [ req_id: KdG1NA0290s155 ]"}
2018-04-02 01:38:10.188 ERROR 7124 --- [http-nio-80-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO wechat_user(open_id, nickname, head_img_url, sex, country, province, city, create_time) VALUES (?,?,?,?,?,?,?,?)]; Column 'open_id' cannot be null; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'open_id' cannot be null] with root cause

com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'open_id' cannot be null
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2079) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy68.executeUpdate(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:877) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:25) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$9fee0fd.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:155) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-02 01:41:25.112  INFO 12528 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 12528 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-02 01:41:25.119  INFO 12528 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-02 01:41:25.401  INFO 12528 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Mon Apr 02 01:41:25 CST 2018]; root of context hierarchy
2018-04-02 01:41:28.869  INFO 12528 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-02 01:41:28.892  INFO 12528 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-02 01:41:28.893  INFO 12528 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-02 01:41:29.152  INFO 12528 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-02 01:41:29.153  INFO 12528 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3757 ms
2018-04-02 01:41:29.504  INFO 12528 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-02 01:41:29.514  INFO 12528 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-02 01:41:29.515  INFO 12528 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-02 01:41:29.515  INFO 12528 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-02 01:41:29.516  INFO 12528 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-02 01:41:30.563  INFO 12528 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Mon Apr 02 01:41:25 CST 2018]; root of context hierarchy
2018-04-02 01:41:30.649  INFO 12528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-02 01:41:30.653  INFO 12528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-02 01:41:30.655  INFO 12528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-02 01:41:30.656  INFO 12528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-02 01:41:30.656  INFO 12528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-02 01:41:30.656  INFO 12528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-02 01:41:30.657  INFO 12528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-02 01:41:30.659  INFO 12528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-02 01:41:30.660  INFO 12528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-02 01:41:30.704  INFO 12528 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-02 01:41:30.706  INFO 12528 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-02 01:41:30.780  INFO 12528 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-02 01:41:30.875  INFO 12528 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-02 01:41:31.265  INFO 12528 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-02 01:41:31.357  INFO 12528 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-02 01:41:31.363  INFO 12528 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 7.359 seconds (JVM running for 9.558)
2018-04-02 01:41:38.110  INFO 12528 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-02 01:41:38.111  INFO 12528 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-02 01:41:38.147  INFO 12528 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 35 ms
2018-04-02 01:41:38.192  INFO 12528 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:41:38.192  INFO 12528 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:081zXzIA0Gtwbf2vkLKA0U8JIA0zXzIw , state:STAT
2018-04-02 01:41:38.194  INFO 12528 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:41:38.194  INFO 12528 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=081zXzIA0Gtwbf2vkLKA0U8JIA0zXzIw&grant_type=authorization_code
2018-04-02 01:41:38.932  INFO 12528 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_leBJBAr0gXEOwUQcJHXi5CJsO3oe1TKm2pF_lDGBDSFHYF17D1DlsqMLyS1tXRM6NsZp8jSaDjvkt8s2p6AqPv1k-xnG70nqh81NRDkYGI4","refresh_token":"8_3uJh_sJt3v26n9xYEd3kEVrdMY2_90esIxj71M8ZAQqfoIkLwmhE_O8rXwDwCAxKJb3TsukIFcIx6ddnMbCmv8eKt6oYFtm_bB9802x9AtE","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-02 01:41:38.934  INFO 12528 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:41:38.934  INFO 12528 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_leBJBAr0gXEOwUQcJHXi5CJsO3oe1TKm2pF_lDGBDSFHYF17D1DlsqMLyS1tXRM6NsZp8jSaDjvkt8s2p6AqPv1k-xnG70nqh81NRDkYGI4 , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-02 01:41:38.935  INFO 12528 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_leBJBAr0gXEOwUQcJHXi5CJsO3oe1TKm2pF_lDGBDSFHYF17D1DlsqMLyS1tXRM6NsZp8jSaDjvkt8s2p6AqPv1k-xnG70nqh81NRDkYGI4&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-02 01:41:39.093  INFO 12528 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-02 01:41:39.797  INFO 12528 --- [http-nio-80-exec-1] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2018-04-02 01:41:39.875  INFO 12528 --- [http-nio-80-exec-1] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2018-04-02 01:41:39.902 ERROR 12528 --- [http-nio-80-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO wechat_user(open_id, nickname, head_img, sex, country, province, city, create_time) VALUES (?,?,?,?,?,?,?,?)]; Data truncation: Data too long for column 'head_img' at row 1; nested exception is com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'head_img' at row 1] with root cause

com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'head_img' at row 1
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3971) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2079) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy68.executeUpdate(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:877) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:25) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:155) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-02 01:41:40.165  INFO 12528 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:41:40.167  INFO 12528 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:081zXzIA0Gtwbf2vkLKA0U8JIA0zXzIw , state:STAT
2018-04-02 01:41:40.168  INFO 12528 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:41:40.169  INFO 12528 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=081zXzIA0Gtwbf2vkLKA0U8JIA0zXzIw&grant_type=authorization_code
2018-04-02 01:41:40.301  INFO 12528 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"errcode":40163,"errmsg":"code been used, hints: [ req_id: rYdg40500th19 ]"}
2018-04-02 01:41:40.302  INFO 12528 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:41:40.302  INFO 12528 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : WebAccessToken:null , openId:null
2018-04-02 01:41:40.303  INFO 12528 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=null&openid=null&lang=zh_CN
2018-04-02 01:41:40.424  INFO 12528 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":40001,"errmsg":"invalid credential, access_token is invalid or not latest, hints: [ req_id: S4WlJa0500s154 ]"}
2018-04-02 01:41:40.432 ERROR 12528 --- [http-nio-80-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO wechat_user(open_id, nickname, head_img, sex, country, province, city, create_time) VALUES (?,?,?,?,?,?,?,?)]; Column 'open_id' cannot be null; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'open_id' cannot be null] with root cause

com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'open_id' cannot be null
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2079) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy68.executeUpdate(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:877) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:25) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:155) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-02 01:41:56.053  INFO 12528 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:41:56.055  INFO 12528 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:071vjc2u1kT3pd05WOYt157V1u1vjc2D , state:STAT
2018-04-02 01:41:56.055  INFO 12528 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:41:56.057  INFO 12528 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=071vjc2u1kT3pd05WOYt157V1u1vjc2D&grant_type=authorization_code
2018-04-02 01:41:56.232  INFO 12528 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_XmBG29dhTsVbP5MCC2MlvbIVxridbvHPzcqkQ0KruaPaVH6ilUECrDcbBa-cDJcvTUmIUXzCWgWidQhdSjrLXumG4-P0zV0Y7bCK95oHpyw","refresh_token":"8_anT1nwKTO0yVnRfLBIF99ww3x_VZJiCjbgGFeWZKYQVcj1II24sdmcUcpqlhePSQ7poLRtJn6-x-S_R-JlymHX-VcbphKqepTWCwLIeKRpU","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-02 01:41:56.233  INFO 12528 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:41:56.233  INFO 12528 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : WebAccessToken:8_XmBG29dhTsVbP5MCC2MlvbIVxridbvHPzcqkQ0KruaPaVH6ilUECrDcbBa-cDJcvTUmIUXzCWgWidQhdSjrLXumG4-P0zV0Y7bCK95oHpyw , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-02 01:41:56.233  INFO 12528 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_XmBG29dhTsVbP5MCC2MlvbIVxridbvHPzcqkQ0KruaPaVH6ilUECrDcbBa-cDJcvTUmIUXzCWgWidQhdSjrLXumG4-P0zV0Y7bCK95oHpyw&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-02 01:41:56.398  INFO 12528 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-02 01:41:56.404 ERROR 12528 --- [http-nio-80-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO wechat_user(open_id, nickname, head_img, sex, country, province, city, create_time) VALUES (?,?,?,?,?,?,?,?)]; Data truncation: Data too long for column 'head_img' at row 1; nested exception is com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'head_img' at row 1] with root cause

com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'head_img' at row 1
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3971) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2079) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy68.executeUpdate(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:877) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:25) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:155) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-02 01:41:56.547  INFO 12528 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:41:56.548  INFO 12528 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:071vjc2u1kT3pd05WOYt157V1u1vjc2D , state:STAT
2018-04-02 01:41:56.548  INFO 12528 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:41:56.549  INFO 12528 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=071vjc2u1kT3pd05WOYt157V1u1vjc2D&grant_type=authorization_code
2018-04-02 01:41:56.690  INFO 12528 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"errcode":40163,"errmsg":"code been used, hints: [ req_id: 0P.0516th50 ]"}
2018-04-02 01:41:56.691  INFO 12528 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:41:56.691  INFO 12528 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : WebAccessToken:null , openId:null
2018-04-02 01:41:56.692  INFO 12528 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=null&openid=null&lang=zh_CN
2018-04-02 01:41:56.796  INFO 12528 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":40001,"errmsg":"invalid credential, access_token is invalid or not latest, hints: [ req_id: Vk80516s154 ]"}
2018-04-02 01:41:56.798 ERROR 12528 --- [http-nio-80-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO wechat_user(open_id, nickname, head_img, sex, country, province, city, create_time) VALUES (?,?,?,?,?,?,?,?)]; Column 'open_id' cannot be null; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'open_id' cannot be null] with root cause

com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'open_id' cannot be null
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2079) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy68.executeUpdate(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:877) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:25) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:155) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-02 01:46:05.463  INFO 17700 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 17700 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-02 01:46:05.469  INFO 17700 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-02 01:46:05.702  INFO 17700 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Mon Apr 02 01:46:05 CST 2018]; root of context hierarchy
2018-04-02 01:46:09.571  INFO 17700 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-02 01:46:09.597  INFO 17700 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-02 01:46:09.599  INFO 17700 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-02 01:46:09.922  INFO 17700 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-02 01:46:09.922  INFO 17700 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4225 ms
2018-04-02 01:46:10.281  INFO 17700 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-02 01:46:10.292  INFO 17700 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-02 01:46:10.293  INFO 17700 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-02 01:46:10.293  INFO 17700 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-02 01:46:10.294  INFO 17700 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-02 01:46:11.407  INFO 17700 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Mon Apr 02 01:46:05 CST 2018]; root of context hierarchy
2018-04-02 01:46:11.528  INFO 17700 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-02 01:46:11.533  INFO 17700 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-02 01:46:11.536  INFO 17700 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-02 01:46:11.537  INFO 17700 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-02 01:46:11.538  INFO 17700 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-02 01:46:11.539  INFO 17700 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-02 01:46:11.542  INFO 17700 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-02 01:46:11.546  INFO 17700 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-02 01:46:11.547  INFO 17700 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-02 01:46:11.601  INFO 17700 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-02 01:46:11.603  INFO 17700 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-02 01:46:11.683  INFO 17700 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-02 01:46:11.732  INFO 17700 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-02 01:46:12.143  INFO 17700 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-02 01:46:12.260  INFO 17700 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-02 01:46:12.268  INFO 17700 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 8.006 seconds (JVM running for 10.311)
2018-04-02 01:46:17.355  INFO 17700 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-02 01:46:17.357  INFO 17700 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-02 01:46:17.405  INFO 17700 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 47 ms
2018-04-02 01:46:17.464  INFO 17700 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:46:17.465  INFO 17700 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:0214N5aE1eazF30Nry7E1BKaaE14N5a0 , state:STAT
2018-04-02 01:46:17.467  INFO 17700 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:46:17.468  INFO 17700 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=0214N5aE1eazF30Nry7E1BKaaE14N5a0&grant_type=authorization_code
2018-04-02 01:46:18.505  INFO 17700 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_pO0GxP-owxoMlZMqueD3g1o5AHn7jwLr9skwp_Z6Tlb2zbUJmYlaylu5eUNVWMmv4GxODuu0kbDAoZSei_0In5ELuMcDDt16a7ZOUvQTLkI","refresh_token":"8_APAntcK7wuerybow7KM-sM4B3Dr7sGHul32mqkKrLnkWITE2wfuXHa3lh3pSRi5y_rGNXOJPhHkZb-BaQ5zmzgaF7Roy42vx_88Ioxv2XGY","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-02 01:46:18.507  INFO 17700 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:46:18.507  INFO 17700 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_pO0GxP-owxoMlZMqueD3g1o5AHn7jwLr9skwp_Z6Tlb2zbUJmYlaylu5eUNVWMmv4GxODuu0kbDAoZSei_0In5ELuMcDDt16a7ZOUvQTLkI , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-02 01:46:18.508  INFO 17700 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_pO0GxP-owxoMlZMqueD3g1o5AHn7jwLr9skwp_Z6Tlb2zbUJmYlaylu5eUNVWMmv4GxODuu0kbDAoZSei_0In5ELuMcDDt16a7ZOUvQTLkI&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-02 01:46:18.682  INFO 17700 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-02 01:46:19.432  INFO 17700 --- [http-nio-80-exec-1] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2018-04-02 01:46:19.674  INFO 17700 --- [http-nio-80-exec-1] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2018-04-02 01:46:19.708 ERROR 17700 --- [http-nio-80-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO wechat_user(open_id, nickname, head_img, sex, country, province, city, create_time) VALUES (?,?,?,?,?,?,?,?)]; Data truncation: Data too long for column 'head_img' at row 1; nested exception is com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'head_img' at row 1] with root cause

com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'head_img' at row 1
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3971) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2079) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy68.executeUpdate(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:877) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:25) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:155) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-02 01:46:21.251  INFO 17700 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:46:21.252  INFO 17700 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:0214N5aE1eazF30Nry7E1BKaaE14N5a0 , state:STAT
2018-04-02 01:46:21.252  INFO 17700 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:46:21.254  INFO 17700 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=0214N5aE1eazF30Nry7E1BKaaE14N5a0&grant_type=authorization_code
2018-04-02 01:46:21.391  INFO 17700 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"errcode":40163,"errmsg":"code been used, hints: [ req_id: EKVtsA0781th20 ]"}
2018-04-02 01:46:21.392  INFO 17700 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:46:21.392  INFO 17700 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : WebAccessToken:null , openId:null
2018-04-02 01:46:21.393  INFO 17700 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=null&openid=null&lang=zh_CN
2018-04-02 01:46:21.524  INFO 17700 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":40001,"errmsg":"invalid credential, access_token is invalid or not latest, hints: [ req_id: 46vV80781s107 ]"}
2018-04-02 01:46:21.532 ERROR 17700 --- [http-nio-80-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO wechat_user(open_id, nickname, head_img, sex, country, province, city, create_time) VALUES (?,?,?,?,?,?,?,?)]; Column 'open_id' cannot be null; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'open_id' cannot be null] with root cause

com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'open_id' cannot be null
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2079) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy68.executeUpdate(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:877) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:25) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:155) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-02 01:55:35.331  INFO 16532 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 16532 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-02 01:55:35.338  INFO 16532 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-02 01:55:35.536  INFO 16532 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Mon Apr 02 01:55:35 CST 2018]; root of context hierarchy
2018-04-02 01:55:38.395  INFO 16532 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-02 01:55:38.420  INFO 16532 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-02 01:55:38.421  INFO 16532 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-02 01:55:38.698  INFO 16532 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-02 01:55:38.699  INFO 16532 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3167 ms
2018-04-02 01:55:39.017  INFO 16532 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-02 01:55:39.026  INFO 16532 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-02 01:55:39.027  INFO 16532 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-02 01:55:39.027  INFO 16532 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-02 01:55:39.028  INFO 16532 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-02 01:55:39.881  INFO 16532 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Mon Apr 02 01:55:35 CST 2018]; root of context hierarchy
2018-04-02 01:55:39.987  INFO 16532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-02 01:55:39.993  INFO 16532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-02 01:55:39.995  INFO 16532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-02 01:55:39.995  INFO 16532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-02 01:55:39.997  INFO 16532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-02 01:55:39.997  INFO 16532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-02 01:55:40.000  INFO 16532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-02 01:55:40.004  INFO 16532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-02 01:55:40.005  INFO 16532 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-02 01:55:40.059  INFO 16532 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-02 01:55:40.060  INFO 16532 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-02 01:55:40.118  INFO 16532 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-02 01:55:40.157  INFO 16532 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-02 01:55:40.547  INFO 16532 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-02 01:55:40.670  INFO 16532 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-02 01:55:40.679  INFO 16532 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 6.366 seconds (JVM running for 8.578)
2018-04-02 01:56:47.714  INFO 16532 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-02 01:56:47.715  INFO 16532 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-02 01:56:47.753  INFO 16532 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 36 ms
2018-04-02 01:56:47.795  INFO 16532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:56:47.796  INFO 16532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:001CIgBM0cwre32aIdAM0B4lBM0CIgBv , state:STAT
2018-04-02 01:56:47.798  INFO 16532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:56:47.798  INFO 16532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=001CIgBM0cwre32aIdAM0B4lBM0CIgBv&grant_type=authorization_code
2018-04-02 01:56:48.607  INFO 16532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_Cb_ol0Nkue8rWKNC9lFNBYA1sFVv3oT7nsr07w8Omg-ZGHUpMAnMQ9XRWh2s37erf24zU7c4fApV-guQO3yHQpsaQJCaUiTuUUADMkDZd78","refresh_token":"8_ZBn1Ct04uqoL1CTehaP45ZFhDk4XgpDV_RHkgY5hBO0cErGrwQsup9vUIym1Wf55QQo3GjZCAYuJi26SYy7dRXJKks9153fRb_6MTN6KfWo","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-02 01:56:48.608  INFO 16532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:56:48.608  INFO 16532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_Cb_ol0Nkue8rWKNC9lFNBYA1sFVv3oT7nsr07w8Omg-ZGHUpMAnMQ9XRWh2s37erf24zU7c4fApV-guQO3yHQpsaQJCaUiTuUUADMkDZd78 , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-02 01:56:48.610  INFO 16532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_Cb_ol0Nkue8rWKNC9lFNBYA1sFVv3oT7nsr07w8Omg-ZGHUpMAnMQ9XRWh2s37erf24zU7c4fApV-guQO3yHQpsaQJCaUiTuUUADMkDZd78&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-02 01:56:48.774  INFO 16532 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-02 01:56:49.422  INFO 16532 --- [http-nio-80-exec-1] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2018-04-02 01:56:49.504  INFO 16532 --- [http-nio-80-exec-1] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2018-04-02 01:56:49.540 ERROR 16532 --- [http-nio-80-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO wechat_user(open_id, nickname, head_img, sex, country, province, city, create_time) VALUES (?,?,?,?,?,?,?,?)]; Data truncation: Data too long for column 'head_img' at row 1; nested exception is com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'head_img' at row 1] with root cause

com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'head_img' at row 1
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3971) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2079) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy68.executeUpdate(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:877) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:24) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:155) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-02 01:56:49.778  INFO 16532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:56:49.780  INFO 16532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:001CIgBM0cwre32aIdAM0B4lBM0CIgBv , state:STAT
2018-04-02 01:56:49.780  INFO 16532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:56:49.782  INFO 16532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=001CIgBM0cwre32aIdAM0B4lBM0CIgBv&grant_type=authorization_code
2018-04-02 01:56:49.917  INFO 16532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"errcode":40163,"errmsg":"code been used, hints: [ req_id: CIoioa0410th40 ]"}
2018-04-02 01:56:49.917  INFO 16532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:56:49.917  INFO 16532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : WebAccessToken:null , openId:null
2018-04-02 01:56:49.918  INFO 16532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=null&openid=null&lang=zh_CN
2018-04-02 01:56:50.002  INFO 16532 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":40001,"errmsg":"invalid credential, access_token is invalid or not latest, hints: [ req_id: uKw25a0410s180 ]"}
2018-04-02 01:56:50.011 ERROR 16532 --- [http-nio-80-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO wechat_user(open_id, nickname, head_img, sex, country, province, city, create_time) VALUES (?,?,?,?,?,?,?,?)]; Column 'open_id' cannot be null; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'open_id' cannot be null] with root cause

com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'open_id' cannot be null
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2079) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy68.executeUpdate(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:877) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:24) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:155) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-02 01:58:49.912  INFO 16532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 01:58:49.913  INFO 16532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:061EDijM0dFEv32ALZgM0qQhjM0EDiji , state:STAT
2018-04-02 01:58:49.913  INFO 16532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 01:58:49.913  INFO 16532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=061EDijM0dFEv32ALZgM0qQhjM0EDiji&grant_type=authorization_code
2018-04-02 01:58:50.059  INFO 16532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_q1QaIhlc7iIhFHOhkjWsN_vMHfPkiVoW-kHYis0H0WFh4Chxp9ohs-S3tQxBKUGXhRP6KW-M8dg1VdVI7OIo23tEr-h-0Nmlo1U05Zborwk","refresh_token":"8_Kwe7PDEBGarZai8P_D8Fqec1_72qGLUEXwTWB3qCQO9AfO3rG2JEs3_Z_0RdPKBNnyNyIGCAmR8nDsaRemR_6zOjsJbZjdNC3IzbaKiUCWA","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-02 01:58:50.061  INFO 16532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 01:58:50.061  INFO 16532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : WebAccessToken:8_q1QaIhlc7iIhFHOhkjWsN_vMHfPkiVoW-kHYis0H0WFh4Chxp9ohs-S3tQxBKUGXhRP6KW-M8dg1VdVI7OIo23tEr-h-0Nmlo1U05Zborwk , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-02 01:58:50.062  INFO 16532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_q1QaIhlc7iIhFHOhkjWsN_vMHfPkiVoW-kHYis0H0WFh4Chxp9ohs-S3tQxBKUGXhRP6KW-M8dg1VdVI7OIo23tEr-h-0Nmlo1U05Zborwk&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-02 01:58:50.216  INFO 16532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-02 01:58:50.224  INFO 16532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-02 01:58:50.224  INFO 16532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-02 01:58:50.224  INFO 16532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : 用户性别:1
2018-04-02 01:58:50.224  INFO 16532 --- [http-nio-80-exec-3] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-02 02:01:41.578  INFO 16532 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 02:01:41.579  INFO 16532 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:081lta9l1wdmGm0B9L8l1dhb9l1lta9W , state:STAT
2018-04-02 02:01:41.580  INFO 16532 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 02:01:41.580  INFO 16532 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=081lta9l1wdmGm0B9L8l1dhb9l1lta9W&grant_type=authorization_code
2018-04-02 02:01:41.787  INFO 16532 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_C_V8JUWX052i8ItUrOTtLdZwgt2emZMEF6gCvUI1QTE2Uc1FNo6pRgwXiflmovi_k_KPgVYP1auRPdU-wXFRWH43PpJuJM3VMe4vttdFz6Q","refresh_token":"8_Xt5ZC0cZBN-QZLcQ43BVuxTL7ot_ASF1shhWzKGCyXR6YXfgLCEiphukE-50tUrdyJJJZTPKCJRnLFtBDrBmU-KVV-yvHP38CdBTVadJmRM","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-02 02:01:41.787  INFO 16532 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 02:01:41.787  INFO 16532 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : WebAccessToken:8_C_V8JUWX052i8ItUrOTtLdZwgt2emZMEF6gCvUI1QTE2Uc1FNo6pRgwXiflmovi_k_KPgVYP1auRPdU-wXFRWH43PpJuJM3VMe4vttdFz6Q , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-02 02:01:41.788  INFO 16532 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_C_V8JUWX052i8ItUrOTtLdZwgt2emZMEF6gCvUI1QTE2Uc1FNo6pRgwXiflmovi_k_KPgVYP1auRPdU-wXFRWH43PpJuJM3VMe4vttdFz6Q&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-02 02:01:41.939  INFO 16532 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-02 02:01:41.961  INFO 16532 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-02 02:01:41.962  INFO 16532 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-02 02:01:41.962  INFO 16532 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : 用户性别:1
2018-04-02 02:01:41.962  INFO 16532 --- [http-nio-80-exec-4] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-02 02:07:11.509  INFO 16532 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 02:07:11.510  INFO 16532 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:001AuSS61MfBhS1OrXQ61zgNS61AuSST , state:STAT
2018-04-02 02:07:11.510  INFO 16532 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 02:07:11.511  INFO 16532 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=001AuSS61MfBhS1OrXQ61zgNS61AuSST&grant_type=authorization_code
2018-04-02 02:07:11.668  INFO 16532 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_SvObFh5RvSc3i-4TObYd3PrYKVvd74xBk3ntMz-O5RDP7plfLonDXcxzbcKly3xuHir7GrV-B7Rrbi5Urk34V9yiEWXnE_VTPQ4E1YEcfNw","refresh_token":"8_fTRXp_eNIg_TcpU9DEiKRl129tfoS2PUJR3SWIeAzSwjkyk2kzxmE1sP9wE0_VQLpQw2FPEsqpdtrCzXtbkI5VV3C4qbDZmUyIKpIA4PHq4","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-02 02:07:11.668  INFO 16532 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 02:07:11.668  INFO 16532 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : WebAccessToken:8_SvObFh5RvSc3i-4TObYd3PrYKVvd74xBk3ntMz-O5RDP7plfLonDXcxzbcKly3xuHir7GrV-B7Rrbi5Urk34V9yiEWXnE_VTPQ4E1YEcfNw , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-02 02:07:11.670  INFO 16532 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_SvObFh5RvSc3i-4TObYd3PrYKVvd74xBk3ntMz-O5RDP7plfLonDXcxzbcKly3xuHir7GrV-B7Rrbi5Urk34V9yiEWXnE_VTPQ4E1YEcfNw&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-02 02:07:11.837  INFO 16532 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-02 02:07:11.845  INFO 16532 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-02 02:07:11.845  INFO 16532 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-02 02:07:11.846  INFO 16532 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 用户性别:1
2018-04-02 02:07:11.846  INFO 16532 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-02 02:09:45.376  INFO 16532 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-02 02:09:45.377  INFO 16532 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:081PsZKN0hHbo42csqON0CoPKN0PsZKf , state:STAT
2018-04-02 02:09:45.378  INFO 16532 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-02 02:09:45.379  INFO 16532 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=081PsZKN0hHbo42csqON0CoPKN0PsZKf&grant_type=authorization_code
2018-04-02 02:09:45.512  INFO 16532 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_67nVKXj_Ht2G-wJMT0uiBZeP3tcbzszxN-aDbfZNeUY2Cw578CfTlN5LqWtcP_h8n7pipa1t6xb-nY0URQxJj_k8xzJFURKtKKCyTGJxZag","refresh_token":"8_yiv6HttfHT8SgkGtk6fG-z2G4yogwYNYBW9f9Rk7Rua5MONFCjERIx_hCPbbTOnqel4Hjl6CVUAd_pnDIYrOLmNVgnb2pxQJD5lKP3vWn0U","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-02 02:09:45.513  INFO 16532 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-02 02:09:45.513  INFO 16532 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : WebAccessToken:8_67nVKXj_Ht2G-wJMT0uiBZeP3tcbzszxN-aDbfZNeUY2Cw578CfTlN5LqWtcP_h8n7pipa1t6xb-nY0URQxJj_k8xzJFURKtKKCyTGJxZag , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-02 02:09:45.514  INFO 16532 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_67nVKXj_Ht2G-wJMT0uiBZeP3tcbzszxN-aDbfZNeUY2Cw578CfTlN5LqWtcP_h8n7pipa1t6xb-nY0URQxJj_k8xzJFURKtKKCyTGJxZag&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-02 02:09:45.656  INFO 16532 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-02 02:09:45.664  INFO 16532 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-02 02:09:45.665  INFO 16532 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-02 02:09:45.666  INFO 16532 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 用户性别:1
2018-04-02 02:09:45.666  INFO 16532 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-04 17:07:37.836  INFO 11848 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 11848 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-04 17:07:37.841  INFO 11848 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-04 17:07:37.995  INFO 11848 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Wed Apr 04 17:07:37 CST 2018]; root of context hierarchy
2018-04-04 17:07:40.542  INFO 11848 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-04 17:07:40.569  INFO 11848 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-04 17:07:40.572  INFO 11848 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-04 17:07:41.293  INFO 11848 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-04 17:07:41.294  INFO 11848 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3341 ms
2018-04-04 17:07:41.569  INFO 11848 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-04 17:07:41.575  INFO 11848 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-04 17:07:41.576  INFO 11848 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-04 17:07:41.576  INFO 11848 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-04 17:07:41.577  INFO 11848 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-04 17:07:42.300  INFO 11848 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Wed Apr 04 17:07:37 CST 2018]; root of context hierarchy
2018-04-04 17:07:42.384  INFO 11848 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-04 17:07:42.387  INFO 11848 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-04 17:07:42.388  INFO 11848 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-04 17:07:42.389  INFO 11848 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-04 17:07:42.390  INFO 11848 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-04 17:07:42.391  INFO 11848 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-04 17:07:42.393  INFO 11848 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-04 17:07:42.396  INFO 11848 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-04 17:07:42.396  INFO 11848 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-04 17:07:42.438  INFO 11848 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-04 17:07:42.438  INFO 11848 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-04 17:07:42.486  INFO 11848 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-04 17:07:42.539  INFO 11848 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-04 17:07:42.936  INFO 11848 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-04 17:07:43.042  INFO 11848 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-04 17:07:43.052  INFO 11848 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 5.84 seconds (JVM running for 9.939)
2018-04-04 17:19:57.963  INFO 14508 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 14508 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-04 17:19:57.968  INFO 14508 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-04 17:19:58.116  INFO 14508 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Wed Apr 04 17:19:58 CST 2018]; root of context hierarchy
2018-04-04 17:20:00.778  INFO 14508 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-04 17:20:00.790  INFO 14508 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-04 17:20:00.792  INFO 14508 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-04 17:20:01.041  INFO 14508 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-04 17:20:01.041  INFO 14508 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2929 ms
2018-04-04 17:20:01.259  INFO 14508 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-04 17:20:01.267  INFO 14508 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-04 17:20:01.268  INFO 14508 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-04 17:20:01.268  INFO 14508 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-04 17:20:01.270  INFO 14508 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-04 17:20:01.935  INFO 14508 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Wed Apr 04 17:19:58 CST 2018]; root of context hierarchy
2018-04-04 17:20:02.005  INFO 14508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public java.lang.String com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String)
2018-04-04 17:20:02.008  INFO 14508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-04 17:20:02.009  INFO 14508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-04 17:20:02.009  INFO 14508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-04 17:20:02.009  INFO 14508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-04 17:20:02.009  INFO 14508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-04 17:20:02.011  INFO 14508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-04 17:20:02.013  INFO 14508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-04 17:20:02.014  INFO 14508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-04 17:20:02.058  INFO 14508 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-04 17:20:02.059  INFO 14508 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-04 17:20:02.120  INFO 14508 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-04 17:20:02.147  INFO 14508 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-04 17:20:02.381  INFO 14508 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-04 17:20:02.451  INFO 14508 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-04 17:20:02.456  INFO 14508 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 5.254 seconds (JVM running for 6.911)
2018-04-04 17:23:17.629  INFO 14508 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-04 17:23:17.630  INFO 14508 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-04 17:23:17.666  INFO 14508 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 35 ms
2018-04-04 17:23:17.707  INFO 14508 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-04 17:23:17.708  INFO 14508 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:061P5NO71RL1MT1ELZL71HGPO71P5NOk , state:STAT
2018-04-04 17:23:17.710  INFO 14508 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-04 17:23:17.710  INFO 14508 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=061P5NO71RL1MT1ELZL71HGPO71P5NOk&grant_type=authorization_code
2018-04-04 17:23:19.086  INFO 14508 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_YNdiDmAApjsBuA4ivs9I5npWONzZcFSwCgm9vGgfeSpv2tIkJ_4hORb85ockeJ3LMfxJwoj6Mj8SQEc8cIQyLyonXTZYpRCa_5OJNXDzOcI","refresh_token":"8_KziyoiMdDEt17TVRbxNAEIwCpJYtWmuhyZfPgBjfqoadhnlBAFUOkfD0JKMAFlSXDO4g8k9J9pmzwTtZKq3bWWk8fd3DAneDQttLcdEdkBo","openid":"oJdcO1fOnBFdl2FkSn61NNlKUPJs","scope":"snsapi_userinfo","expires_in":7200}
2018-04-04 17:23:19.087  INFO 14508 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-04 17:23:19.087  INFO 14508 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_YNdiDmAApjsBuA4ivs9I5npWONzZcFSwCgm9vGgfeSpv2tIkJ_4hORb85ockeJ3LMfxJwoj6Mj8SQEc8cIQyLyonXTZYpRCa_5OJNXDzOcI , openId:oJdcO1fOnBFdl2FkSn61NNlKUPJs
2018-04-04 17:23:19.088  INFO 14508 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_YNdiDmAApjsBuA4ivs9I5npWONzZcFSwCgm9vGgfeSpv2tIkJ_4hORb85ockeJ3LMfxJwoj6Mj8SQEc8cIQyLyonXTZYpRCa_5OJNXDzOcI&openid=oJdcO1fOnBFdl2FkSn61NNlKUPJs&lang=zh_CN
2018-04-04 17:23:19.656  INFO 14508 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"苏州","openid":"oJdcO1fOnBFdl2FkSn61NNlKUPJs","sex":2,"nickname":"马笑笑;)","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKGQw5vDSJ5O8MKPAQNrknN4EPTypRibWD2XhLJY0k1aMkXgLQibU4BeM2RiaPaxkNRYcSDibjfTFgX5Q/132","language":"zh_CN","privilege":[]}
2018-04-04 17:23:20.243  INFO 14508 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-04 17:23:20.245  INFO 14508 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户昵称:马笑笑;)
2018-04-04 17:23:20.245  INFO 14508 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户性别:2
2018-04-04 17:23:20.245  INFO 14508 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : OpenId:oJdcO1fOnBFdl2FkSn61NNlKUPJs
2018-04-04 17:23:38.126  INFO 14508 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-04 17:23:38.130  INFO 14508 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:001phTHs1zO61o0uXcJs1DnEHs1phTHw , state:STAT
2018-04-04 17:23:38.133  INFO 14508 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-04 17:23:38.134  INFO 14508 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=001phTHs1zO61o0uXcJs1DnEHs1phTHw&grant_type=authorization_code
2018-04-04 17:23:38.713  INFO 14508 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_v-epBN8moVgkK9pPoy6DwZ40ECLce5sSBie5SSY66M-qSf3xwQpTnOfRcA18iKnMONgaa3TQ9E-5aSKOWCzAUtOjotgt4gTWOcOPvsoFOcA","refresh_token":"8_YRLQCNCFExcDksGMJrBocbB4MEBMRF-RcDOkQTwn3y8df3Rb4luxw5JzOWjNlZV8-OlZuB354ezJHNNtXxutt8315aHo96K9-_HFeHvjztc","openid":"oJdcO1UlN5VVfUEhmSQsILUkJ1wg","scope":"snsapi_userinfo","expires_in":7200}
2018-04-04 17:23:38.714  INFO 14508 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-04 17:23:38.716  INFO 14508 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : WebAccessToken:8_v-epBN8moVgkK9pPoy6DwZ40ECLce5sSBie5SSY66M-qSf3xwQpTnOfRcA18iKnMONgaa3TQ9E-5aSKOWCzAUtOjotgt4gTWOcOPvsoFOcA , openId:oJdcO1UlN5VVfUEhmSQsILUkJ1wg
2018-04-04 17:23:38.717  INFO 14508 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_v-epBN8moVgkK9pPoy6DwZ40ECLce5sSBie5SSY66M-qSf3xwQpTnOfRcA18iKnMONgaa3TQ9E-5aSKOWCzAUtOjotgt4gTWOcOPvsoFOcA&openid=oJdcO1UlN5VVfUEhmSQsILUkJ1wg&lang=zh_CN
2018-04-04 17:23:39.272  INFO 14508 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"南通","openid":"oJdcO1UlN5VVfUEhmSQsILUkJ1wg","sex":2,"nickname":"Sven","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ1uR5e4h5CjPafyYp0pv4y2GS7ibib4wZXmDG5jfUIDKP1xCIibgriakGz4x3K5kyoG90JoQQ20StXzw/132","language":"zh_CN","privilege":[]}
2018-04-04 17:23:39.290  INFO 14508 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-04 17:23:39.295  INFO 14508 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 用户昵称:Sven
2018-04-04 17:23:39.296  INFO 14508 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 用户性别:2
2018-04-04 17:23:39.297  INFO 14508 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : OpenId:oJdcO1UlN5VVfUEhmSQsILUkJ1wg
2018-04-07 01:06:30.635  INFO 24520 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 24520 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-07 01:06:30.640  INFO 24520 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-07 01:06:30.780  INFO 24520 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sat Apr 07 01:06:30 CST 2018]; root of context hierarchy
2018-04-07 01:06:33.483  INFO 24520 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-07 01:06:33.514  INFO 24520 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-07 01:06:33.516  INFO 24520 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-07 01:06:34.117  INFO 24520 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-07 01:06:34.117  INFO 24520 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3342 ms
2018-04-07 01:06:34.525  INFO 24520 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-07 01:06:34.533  INFO 24520 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-07 01:06:34.534  INFO 24520 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-07 01:06:34.534  INFO 24520 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-07 01:06:34.535  INFO 24520 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-07 01:06:35.268  INFO 24520 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sat Apr 07 01:06:30 CST 2018]; root of context hierarchy
2018-04-07 01:06:35.388  INFO 24520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-07 01:06:35.392  INFO 24520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-07 01:06:35.395  INFO 24520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-07 01:06:35.395  INFO 24520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-07 01:06:35.397  INFO 24520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-07 01:06:35.398  INFO 24520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-07 01:06:35.400  INFO 24520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-07 01:06:35.404  INFO 24520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-07 01:06:35.404  INFO 24520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-07 01:06:35.456  INFO 24520 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-07 01:06:35.457  INFO 24520 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-07 01:06:35.604  INFO 24520 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-07 01:06:35.645  INFO 24520 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-07 01:06:35.910  INFO 24520 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-07 01:06:35.995  INFO 24520 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-07 01:06:36.001  INFO 24520 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 6.192 seconds (JVM running for 9.128)
2018-04-07 01:06:38.084  INFO 24520 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-07 01:06:38.085  INFO 24520 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-07 01:06:38.120  INFO 24520 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 35 ms
2018-04-07 01:14:38.093  INFO 24520 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-07 01:14:38.094  INFO 24520 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:061JoYqb24mkJP0k68qb24S7rb2JoYqv , state:STAT
2018-04-07 01:14:38.096  INFO 24520 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-07 01:14:38.097  INFO 24520 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=061JoYqb24mkJP0k68qb24S7rb2JoYqv&grant_type=authorization_code
2018-04-07 01:14:39.020  INFO 24520 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_f3KStfEcG9sP4X-1topkAGSEwvlDCJhabh0xPQHXLbFJ7_tU1deODACL5fwmK9bGAm7YfqnwlrA_adW3qRz_O70gdYcycvXg1egehTa8dAE","refresh_token":"8__OXuzJCJ25B54xQYtlUPV-5MKu9IzTlmHq0AssafE1ZhDonVO0XhKSqL-2pZzgz0cpngTSUyU6oY4FKZlc_Zn-ZrNvknPm-DzeyHTug7ljk","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-07 01:14:39.022  INFO 24520 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-07 01:14:39.022  INFO 24520 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : WebAccessToken:8_f3KStfEcG9sP4X-1topkAGSEwvlDCJhabh0xPQHXLbFJ7_tU1deODACL5fwmK9bGAm7YfqnwlrA_adW3qRz_O70gdYcycvXg1egehTa8dAE , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-07 01:14:39.024  INFO 24520 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_f3KStfEcG9sP4X-1topkAGSEwvlDCJhabh0xPQHXLbFJ7_tU1deODACL5fwmK9bGAm7YfqnwlrA_adW3qRz_O70gdYcycvXg1egehTa8dAE&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-07 01:14:39.177  INFO 24520 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-07 01:14:39.920  INFO 24520 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-07 01:14:39.921  INFO 24520 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-07 01:14:39.922  INFO 24520 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 用户性别:1
2018-04-07 01:14:39.922  INFO 24520 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-07 01:14:39.923  INFO 24520 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 访问百度搜索
2018-04-07 01:19:26.607  INFO 26468 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 26468 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-07 01:19:26.615  INFO 26468 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-07 01:19:26.743  INFO 26468 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sat Apr 07 01:19:26 CST 2018]; root of context hierarchy
2018-04-07 01:19:29.519  INFO 26468 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-07 01:19:29.533  INFO 26468 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-07 01:19:29.535  INFO 26468 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-07 01:19:29.807  INFO 26468 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-07 01:19:29.807  INFO 26468 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3069 ms
2018-04-07 01:19:30.104  INFO 26468 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-07 01:19:30.111  INFO 26468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-07 01:19:30.111  INFO 26468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-07 01:19:30.111  INFO 26468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-07 01:19:30.112  INFO 26468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-07 01:19:30.854  INFO 26468 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sat Apr 07 01:19:26 CST 2018]; root of context hierarchy
2018-04-07 01:19:31.019  INFO 26468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-07 01:19:31.023  INFO 26468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-07 01:19:31.025  INFO 26468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-07 01:19:31.025  INFO 26468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-07 01:19:31.027  INFO 26468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-07 01:19:31.027  INFO 26468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-07 01:19:31.031  INFO 26468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-07 01:19:31.034  INFO 26468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-07 01:19:31.034  INFO 26468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-07 01:19:31.108  INFO 26468 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-07 01:19:31.119  INFO 26468 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-07 01:19:31.198  INFO 26468 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-07 01:19:31.232  INFO 26468 --- [main] oConfiguration$WelcomePageHandlerMapping : Adding welcome page: class path resource [public/index.html]
2018-04-07 01:19:31.555  INFO 26468 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-07 01:19:31.684  INFO 26468 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-07 01:19:31.691  INFO 26468 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 6.115 seconds (JVM running for 7.903)
2018-04-07 01:19:31.767  INFO 26468 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-07 01:19:31.767  INFO 26468 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-07 01:19:31.836  INFO 26468 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 68 ms
2018-04-07 01:25:33.149  INFO 26468 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-07 01:25:33.150  INFO 26468 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:011dukYz1epSfe03wvYz1F9hYz1dukYy , state:STAT
2018-04-07 01:25:33.153  INFO 26468 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-07 01:25:33.154  INFO 26468 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=011dukYz1epSfe03wvYz1F9hYz1dukYy&grant_type=authorization_code
2018-04-07 01:25:34.121  INFO 26468 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_tODdh9msUl4PBXvfUe8pIaaBACAYpU8EFXmjR1SnlBHEiwtDDeZlnKMCkg3-eDw8DwtWq1yP4ukFJtIKGQBFaUkZqB5ljYLILyGr-W2ezO4","refresh_token":"8_4kzsNxPns6-CKwTpphgIoqRjUUMmO0T2CCcSnrDEk2tkw8TA2z6gbP71GTnYrGehgXXl-1QpHtIcE8H3VBv7dQNCr6pWLotXwCR47Wn5LPE","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-07 01:25:34.121  INFO 26468 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-07 01:25:34.121  INFO 26468 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : WebAccessToken:8_tODdh9msUl4PBXvfUe8pIaaBACAYpU8EFXmjR1SnlBHEiwtDDeZlnKMCkg3-eDw8DwtWq1yP4ukFJtIKGQBFaUkZqB5ljYLILyGr-W2ezO4 , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-07 01:25:34.122  INFO 26468 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_tODdh9msUl4PBXvfUe8pIaaBACAYpU8EFXmjR1SnlBHEiwtDDeZlnKMCkg3-eDw8DwtWq1yP4ukFJtIKGQBFaUkZqB5ljYLILyGr-W2ezO4&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-07 01:25:34.317  INFO 26468 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-07 01:25:35.281  INFO 26468 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-07 01:25:35.283  INFO 26468 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-07 01:25:35.285  INFO 26468 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 用户性别:1
2018-04-07 01:25:35.285  INFO 26468 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-07 01:25:35.286  INFO 26468 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 访问百度搜索
2018-04-07 01:27:46.052  INFO 26468 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-07 01:27:46.053  INFO 26468 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:061tug5g0aVoqy1xus3g01Xa5g0tug5W , state:STAT
2018-04-07 01:27:46.054  INFO 26468 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-07 01:27:46.054  INFO 26468 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=061tug5g0aVoqy1xus3g01Xa5g0tug5W&grant_type=authorization_code
2018-04-07 01:27:46.212  INFO 26468 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_OzrdEuhKTPhuMRJwlqRQ6pRSM3Ysb7a0iXFq7GxgzCF8cf_8zBRIjk0UyVS7bZpQrWyd1tvZhLM6-4nMJDP5uTJ0lUpoF0Q5RLDMcoJLeE4","refresh_token":"8_zmSwnPigbBMyDYtO7PIK89zLhPTNX27aNbYHInEA9QpIjrAo6pVwUaSFhL1tkM_7Dk_pwyMbPnf4EYF_CkKI8d6wTe8cNA6K2rzqgtKZRtY","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-07 01:27:46.213  INFO 26468 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-07 01:27:46.213  INFO 26468 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : WebAccessToken:8_OzrdEuhKTPhuMRJwlqRQ6pRSM3Ysb7a0iXFq7GxgzCF8cf_8zBRIjk0UyVS7bZpQrWyd1tvZhLM6-4nMJDP5uTJ0lUpoF0Q5RLDMcoJLeE4 , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-07 01:27:46.214  INFO 26468 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_OzrdEuhKTPhuMRJwlqRQ6pRSM3Ysb7a0iXFq7GxgzCF8cf_8zBRIjk0UyVS7bZpQrWyd1tvZhLM6-4nMJDP5uTJ0lUpoF0Q5RLDMcoJLeE4&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-07 01:27:46.358  INFO 26468 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-07 01:27:46.366  INFO 26468 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-07 01:27:46.366  INFO 26468 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-07 01:27:46.366  INFO 26468 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 用户性别:1
2018-04-07 01:27:46.366  INFO 26468 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-07 01:27:46.368  INFO 26468 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 访问百度搜索
2018-04-07 01:33:00.019  INFO 13100 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 13100 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-07 01:33:00.035  INFO 13100 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-07 01:33:00.211  INFO 13100 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sat Apr 07 01:33:00 CST 2018]; root of context hierarchy
2018-04-07 01:33:02.650  INFO 13100 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-07 01:33:02.675  INFO 13100 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-07 01:33:02.677  INFO 13100 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-07 01:33:02.953  INFO 13100 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-07 01:33:02.954  INFO 13100 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2748 ms
2018-04-07 01:33:03.374  INFO 13100 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-07 01:33:03.388  INFO 13100 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-07 01:33:03.391  INFO 13100 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-07 01:33:03.391  INFO 13100 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-07 01:33:03.394  INFO 13100 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-07 01:33:04.354  INFO 13100 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sat Apr 07 01:33:00 CST 2018]; root of context hierarchy
2018-04-07 01:33:04.473  INFO 13100 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-07 01:33:04.483  INFO 13100 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-07 01:33:04.484  INFO 13100 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-07 01:33:04.485  INFO 13100 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-07 01:33:04.487  INFO 13100 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-07 01:33:04.487  INFO 13100 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-07 01:33:04.490  INFO 13100 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-07 01:33:04.495  INFO 13100 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-07 01:33:04.496  INFO 13100 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-07 01:33:04.551  INFO 13100 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-07 01:33:04.553  INFO 13100 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-07 01:33:04.660  INFO 13100 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-07 01:33:04.977  INFO 13100 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-07 01:33:05.113  INFO 13100 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-07 01:33:05.121  INFO 13100 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 6.027 seconds (JVM running for 7.805)
2018-04-07 01:33:16.571  INFO 13100 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-07 01:33:16.572  INFO 13100 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-07 01:33:16.620  INFO 13100 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 48 ms
2018-04-07 01:33:16.666  INFO 13100 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-07 01:33:16.666  INFO 13100 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:0019ecic2pObwD0S4dic2m33ic29eciD , state:STAT
2018-04-07 01:33:16.667  INFO 13100 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-07 01:33:16.668  INFO 13100 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=0019ecic2pObwD0S4dic2m33ic29eciD&grant_type=authorization_code
2018-04-07 01:33:17.379  INFO 13100 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_0yl-vuI_PqNzw6bSIigI2H2OTt8guuh0YkJUpQGOItjggRVKBrtHxzz9YZ-EWS5ELst7Cev2RQNcUIU5TZ3se_uJ8Zr2HMuf06AaK4k022Q","refresh_token":"8_Zd62pIQAf-3-3nXA-ZbO8_trSlWKyJkVwueu6J3FSAG4pDrlZHTXwuAekzGq31knMYjR7sdSZ3hY_IPq_VcxdzhLOrhO8H8MFIoarPIcXaI","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-07 01:33:17.380  INFO 13100 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-07 01:33:17.380  INFO 13100 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_0yl-vuI_PqNzw6bSIigI2H2OTt8guuh0YkJUpQGOItjggRVKBrtHxzz9YZ-EWS5ELst7Cev2RQNcUIU5TZ3se_uJ8Zr2HMuf06AaK4k022Q , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-07 01:33:17.380  INFO 13100 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_0yl-vuI_PqNzw6bSIigI2H2OTt8guuh0YkJUpQGOItjggRVKBrtHxzz9YZ-EWS5ELst7Cev2RQNcUIU5TZ3se_uJ8Zr2HMuf06AaK4k022Q&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-07 01:33:17.533  INFO 13100 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-07 01:33:18.053  INFO 13100 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-07 01:33:18.054  INFO 13100 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-07 01:33:18.054  INFO 13100 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户性别:1
2018-04-07 01:33:18.054  INFO 13100 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-07 01:33:18.054  INFO 13100 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 访问百度搜索
2018-04-07 01:35:46.393  INFO 24296 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 24296 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-07 01:35:46.398  INFO 24296 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-07 01:35:46.565  INFO 24296 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sat Apr 07 01:35:46 CST 2018]; root of context hierarchy
2018-04-07 01:35:48.899  INFO 24296 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-07 01:35:48.917  INFO 24296 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-07 01:35:48.918  INFO 24296 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-07 01:35:49.176  INFO 24296 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-07 01:35:49.176  INFO 24296 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2616 ms
2018-04-07 01:35:49.449  INFO 24296 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-07 01:35:49.456  INFO 24296 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-07 01:35:49.456  INFO 24296 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-07 01:35:49.456  INFO 24296 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-07 01:35:49.457  INFO 24296 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-07 01:35:50.122  INFO 24296 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Sat Apr 07 01:35:46 CST 2018]; root of context hierarchy
2018-04-07 01:35:50.434  INFO 24296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-07 01:35:50.437  INFO 24296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-07 01:35:50.439  INFO 24296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-07 01:35:50.440  INFO 24296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-07 01:35:50.441  INFO 24296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-07 01:35:50.442  INFO 24296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-07 01:35:50.445  INFO 24296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-07 01:35:50.447  INFO 24296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-07 01:35:50.448  INFO 24296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-07 01:35:50.503  INFO 24296 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-07 01:35:50.504  INFO 24296 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-07 01:35:50.547  INFO 24296 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-07 01:35:51.029  INFO 24296 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-07 01:35:51.149  INFO 24296 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-07 01:35:51.156  INFO 24296 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 5.449 seconds (JVM running for 7.058)
2018-04-07 01:36:04.824  INFO 24296 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-07 01:36:04.824  INFO 24296 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-07 01:36:04.863  INFO 24296 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 39 ms
2018-04-07 01:36:04.903  INFO 24296 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-07 01:36:04.904  INFO 24296 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:021WoexT1mEyy71QBEzT1uJhxT1WoexJ , state:STAT
2018-04-07 01:36:04.905  INFO 24296 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-07 01:36:04.906  INFO 24296 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=021WoexT1mEyy71QBEzT1uJhxT1WoexJ&grant_type=authorization_code
2018-04-07 01:36:05.587  INFO 24296 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_HI-Em1cJQYvAvPYwqxO2PYSMcQkJr0uoZEv3Pp4J-aP4AZVozRhXrJBmdO6QfeLX5nmCNHSA5s8t2va_spWbMjtHP26mNHGkE5shpncQIcM","refresh_token":"8_2oYr_u7JUUdpvPrYL_uiyW29_AtCjH9aDCl8gi8OGKURrD5ioPUlbmwI21DRrulIe5Rm0Q6c0EaQVEqOxAqkICRPGqjLU2tytPehfX4QPvo","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-07 01:36:05.587  INFO 24296 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-07 01:36:05.587  INFO 24296 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_HI-Em1cJQYvAvPYwqxO2PYSMcQkJr0uoZEv3Pp4J-aP4AZVozRhXrJBmdO6QfeLX5nmCNHSA5s8t2va_spWbMjtHP26mNHGkE5shpncQIcM , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-07 01:36:05.588  INFO 24296 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_HI-Em1cJQYvAvPYwqxO2PYSMcQkJr0uoZEv3Pp4J-aP4AZVozRhXrJBmdO6QfeLX5nmCNHSA5s8t2va_spWbMjtHP26mNHGkE5shpncQIcM&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-07 01:36:05.759  INFO 24296 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-07 01:36:06.289  INFO 24296 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-07 01:36:06.289  INFO 24296 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-07 01:36:06.289  INFO 24296 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户性别:1
2018-04-07 01:36:06.290  INFO 24296 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-07 01:36:06.290  INFO 24296 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 访问百度搜索
2018-04-07 01:37:53.231  INFO 24296 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-07 01:37:53.232  INFO 24296 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:071vxu7D1Aoei40CH57D1mHb7D1vxu7B , state:STAT
2018-04-07 01:37:53.233  INFO 24296 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-07 01:37:53.233  INFO 24296 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=071vxu7D1Aoei40CH57D1mHb7D1vxu7B&grant_type=authorization_code
2018-04-07 01:37:53.403  INFO 24296 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_UYaABS6iZUJ3GKGjWVC5xqEmM9LC5Z9jTHsgXOLcnS5r8y6TSFNVenSERBL3cwTy-E1lJl-dbNsB14LAr2Odh8rKrAgmz8d9VYtV1uiRP8c","refresh_token":"8_8NRC9E73DU3KnXqpol7TTcgz1RoOt2LzvXzNekAqNTy50mbp9m2IYZepMIFSkb-X1haBcTwrImfGn0vVDDw82z3QhN0fC-Wv9ME-uQoPcAM","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-07 01:37:53.404  INFO 24296 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-07 01:37:53.405  INFO 24296 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : WebAccessToken:8_UYaABS6iZUJ3GKGjWVC5xqEmM9LC5Z9jTHsgXOLcnS5r8y6TSFNVenSERBL3cwTy-E1lJl-dbNsB14LAr2Odh8rKrAgmz8d9VYtV1uiRP8c , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-07 01:37:53.405  INFO 24296 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_UYaABS6iZUJ3GKGjWVC5xqEmM9LC5Z9jTHsgXOLcnS5r8y6TSFNVenSERBL3cwTy-E1lJl-dbNsB14LAr2Odh8rKrAgmz8d9VYtV1uiRP8c&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-07 01:37:53.568  INFO 24296 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-07 01:37:53.577  INFO 24296 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-07 01:37:53.578  INFO 24296 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-07 01:37:53.578  INFO 24296 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户性别:1
2018-04-07 01:37:53.578  INFO 24296 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-07 01:37:53.578  INFO 24296 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 访问百度搜索
2018-04-07 01:38:43.186  WARN 24296 --- [http-nio-80-exec-3] o.s.web.servlet.PageNotFound             : Request method 'POST' not supported
2018-04-07 01:38:53.886  INFO 24296 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-07 01:38:53.888  INFO 24296 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:081gOWBm13QHsi0K4BEm1LaSBm1gOWBo , state:STAT
2018-04-07 01:38:53.888  INFO 24296 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-07 01:38:53.889  INFO 24296 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=081gOWBm13QHsi0K4BEm1LaSBm1gOWBo&grant_type=authorization_code
2018-04-07 01:38:54.081  INFO 24296 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_cemSL-ImYqTn85dFEj33thKD1d87VFug_l7b6yrQYBYpkkDWvdqMOQxGSb4w3fj06irrh3_Ey_RROJ1kpKFhEWbC55UUuca20ETIr4HzBbY","refresh_token":"8_t7Ae1su28NbrOS8E07DmE0Jd3LgdmP0Ueyh7CJw7XMFY15a7imRpis5wOG45Jfk1PoR6cBe3ao-tfm03yTGrbqmkcnV1YCxld8dhPFwHRkE","openid":"oJdcO1SbXYPgk8-40y_fm_g3PIV4","scope":"snsapi_userinfo","expires_in":7200}
2018-04-07 01:38:54.081  INFO 24296 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-07 01:38:54.081  INFO 24296 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : WebAccessToken:8_cemSL-ImYqTn85dFEj33thKD1d87VFug_l7b6yrQYBYpkkDWvdqMOQxGSb4w3fj06irrh3_Ey_RROJ1kpKFhEWbC55UUuca20ETIr4HzBbY , openId:oJdcO1SbXYPgk8-40y_fm_g3PIV4
2018-04-07 01:38:54.082  INFO 24296 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_cemSL-ImYqTn85dFEj33thKD1d87VFug_l7b6yrQYBYpkkDWvdqMOQxGSb4w3fj06irrh3_Ey_RROJ1kpKFhEWbC55UUuca20ETIr4HzBbY&openid=oJdcO1SbXYPgk8-40y_fm_g3PIV4&lang=zh_CN
2018-04-07 01:38:54.201  INFO 24296 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 用户信息:{"country":"塞拉利昂","province":"","city":"","openid":"oJdcO1SbXYPgk8-40y_fm_g3PIV4","sex":1,"nickname":"赵昂","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBwTTbG8jD43rwcParcK1zlXytCR6696DwZZA3cXsDWh59YAa76rkAyQibEqKMmwXVmMQmicX8Y1Pzw/132","language":"zh_CN","privilege":[]}
2018-04-07 01:38:54.209  INFO 24296 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-07 01:38:54.209  INFO 24296 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 用户昵称:赵昂
2018-04-07 01:38:54.210  INFO 24296 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 用户性别:1
2018-04-07 01:38:54.210  INFO 24296 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : OpenId:oJdcO1SbXYPgk8-40y_fm_g3PIV4
2018-04-07 01:38:54.210  INFO 24296 --- [http-nio-80-exec-5] c.e.demo.controller.RedirectController   : 访问百度搜索
2018-04-07 01:40:01.852  INFO 24296 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-07 01:40:01.853  INFO 24296 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:061jf8MN0qFhn42bUmKN0kSXLN0jf8Mt , state:STAT
2018-04-07 01:40:01.853  INFO 24296 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-07 01:40:01.853  INFO 24296 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=061jf8MN0qFhn42bUmKN0kSXLN0jf8Mt&grant_type=authorization_code
2018-04-07 01:40:02.084  INFO 24296 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_2THLGm_GzHOIbueUDfJcpcB4lomFG2GoocvgOQozTqMvKZq6YmdkrPhOKGnGwvJivq7O90oKIXRuAebj51LTGOvXSjm1JUNieOWxJFMuReQ","refresh_token":"8_pOHTfC4rIdxFIUZEpu_ZK14DL1couaC9nmPqo0ooA-_3huTvzDkCgBtLMiYoUYoLyEG5HdCWkFra-m3AJuVgp9yw7m9MaQVCEHjnBs7C8N0","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-07 01:40:02.086  INFO 24296 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-07 01:40:02.086  INFO 24296 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : WebAccessToken:8_2THLGm_GzHOIbueUDfJcpcB4lomFG2GoocvgOQozTqMvKZq6YmdkrPhOKGnGwvJivq7O90oKIXRuAebj51LTGOvXSjm1JUNieOWxJFMuReQ , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-07 01:40:02.086  INFO 24296 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_2THLGm_GzHOIbueUDfJcpcB4lomFG2GoocvgOQozTqMvKZq6YmdkrPhOKGnGwvJivq7O90oKIXRuAebj51LTGOvXSjm1JUNieOWxJFMuReQ&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-07 01:40:02.260  INFO 24296 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-07 01:40:02.292  INFO 24296 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-07 01:40:02.292  INFO 24296 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-07 01:40:02.292  INFO 24296 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 用户性别:1
2018-04-07 01:40:02.292  INFO 24296 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-07 01:40:02.293  INFO 24296 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 访问百度搜索
2018-04-07 01:40:56.927  INFO 24296 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-07 01:40:56.928  INFO 24296 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:081Q92is08Zt8d1Q7hgs0WeUhs0Q92iC , state:STAT
2018-04-07 01:40:56.928  INFO 24296 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-07 01:40:56.929  INFO 24296 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=081Q92is08Zt8d1Q7hgs0WeUhs0Q92iC&grant_type=authorization_code
2018-04-07 01:40:57.089  INFO 24296 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_hMOb-bLPJejzgDnGRsyiP1oaig8FvAOqus6YFXI3b-shuTdc1pb8huuk1H_i4OfUGyE0WW_spNdsb0-KpGIWVeciXd8jnzuZhGs8_i_nKg0","refresh_token":"8_uwlRkAdkauvgTZfAxjFZaLTOghyLsm-lUYpYierqQydUHC6wqMq1uGlkZvjbwts9FVCRRtxLvHZa18ayTvw-1zFHkLP5iRJK2NGZ-GaKGDE","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-07 01:40:57.089  INFO 24296 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-07 01:40:57.089  INFO 24296 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : WebAccessToken:8_hMOb-bLPJejzgDnGRsyiP1oaig8FvAOqus6YFXI3b-shuTdc1pb8huuk1H_i4OfUGyE0WW_spNdsb0-KpGIWVeciXd8jnzuZhGs8_i_nKg0 , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-07 01:40:57.091  INFO 24296 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_hMOb-bLPJejzgDnGRsyiP1oaig8FvAOqus6YFXI3b-shuTdc1pb8huuk1H_i4OfUGyE0WW_spNdsb0-KpGIWVeciXd8jnzuZhGs8_i_nKg0&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-07 01:40:57.255  INFO 24296 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-07 01:40:57.261  INFO 24296 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-07 01:40:57.261  INFO 24296 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-07 01:40:57.262  INFO 24296 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 用户性别:1
2018-04-07 01:40:57.262  INFO 24296 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-07 01:40:57.262  INFO 24296 --- [http-nio-80-exec-8] c.e.demo.controller.RedirectController   : 访问百度搜索
2018-04-09 12:55:16.987  INFO 672 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 672 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-09 12:55:16.994  INFO 672 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-09 12:55:17.110  INFO 672 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Mon Apr 09 12:55:17 CST 2018]; root of context hierarchy
2018-04-09 12:55:19.599  INFO 672 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-09 12:55:19.624  INFO 672 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-09 12:55:19.626  INFO 672 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-09 12:55:19.879  INFO 672 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-09 12:55:19.879  INFO 672 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2775 ms
2018-04-09 12:55:20.157  INFO 672 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-09 12:55:20.163  INFO 672 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-09 12:55:20.164  INFO 672 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-09 12:55:20.164  INFO 672 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-09 12:55:20.165  INFO 672 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-09 12:55:20.854  INFO 672 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Mon Apr 09 12:55:17 CST 2018]; root of context hierarchy
2018-04-09 12:55:20.949  INFO 672 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-09 12:55:20.954  INFO 672 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-09 12:55:20.956  INFO 672 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-09 12:55:20.956  INFO 672 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-09 12:55:20.956  INFO 672 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-09 12:55:20.957  INFO 672 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-09 12:55:20.958  INFO 672 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-09 12:55:20.961  INFO 672 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-09 12:55:20.962  INFO 672 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-09 12:55:21.013  INFO 672 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-09 12:55:21.014  INFO 672 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-09 12:55:21.079  INFO 672 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-09 12:55:21.423  INFO 672 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-09 12:55:21.509  INFO 672 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-09 12:55:21.516  INFO 672 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 5.36 seconds (JVM running for 7.426)
2018-04-09 12:59:27.916  INFO 672 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-09 12:59:27.917  INFO 672 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-09 12:59:27.961  INFO 672 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 43 ms
2018-04-09 12:59:28.018  INFO 672 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-09 12:59:28.018  INFO 672 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:021aIbQA18VUDf0YESOA1MyQPA1aIbQv , state:STAT
2018-04-09 12:59:28.020  INFO 672 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-09 12:59:28.020  INFO 672 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=021aIbQA18VUDf0YESOA1MyQPA1aIbQv&grant_type=authorization_code
2018-04-09 12:59:29.288  INFO 672 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_coJnQQhvUU9vso5s0cXgvQj_tql4BFtpcY3zxz1-6PjBtXETb4yCt9Rvq6k85D9aiBW6jzM1wEecs9KbTDvqGFhvuZnDUh7wDpfL90cKwII","refresh_token":"8_kkL5hrN7Yg9TqpCm2EIzXRBCkY0TE71hmiF8IGV5nBUavOJ-5u01TAO5jWzTt7v03wDyAUupDpEvmx2j5wtrH9N63jf5HbvUi3tj9xmcZQE","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-09 12:59:29.289  INFO 672 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-09 12:59:29.290  INFO 672 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_coJnQQhvUU9vso5s0cXgvQj_tql4BFtpcY3zxz1-6PjBtXETb4yCt9Rvq6k85D9aiBW6jzM1wEecs9KbTDvqGFhvuZnDUh7wDpfL90cKwII , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-09 12:59:29.290  INFO 672 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_coJnQQhvUU9vso5s0cXgvQj_tql4BFtpcY3zxz1-6PjBtXETb4yCt9Rvq6k85D9aiBW6jzM1wEecs9KbTDvqGFhvuZnDUh7wDpfL90cKwII&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-09 12:59:29.832  INFO 672 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-09 12:59:30.458  INFO 672 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-09 12:59:30.459  INFO 672 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-09 12:59:30.459  INFO 672 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户性别:1
2018-04-09 12:59:30.460  INFO 672 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-09 12:59:30.460  INFO 672 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 访问聊天界面
2018-04-09 14:37:59.402  INFO 11036 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 11036 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-09 14:37:59.408  INFO 11036 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-09 14:37:59.666  INFO 11036 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Mon Apr 09 14:37:59 CST 2018]; root of context hierarchy
2018-04-09 14:38:02.233  INFO 11036 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-09 14:38:02.263  INFO 11036 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-09 14:38:02.266  INFO 11036 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-09 14:38:02.535  INFO 11036 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-09 14:38:02.535  INFO 11036 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2930 ms
2018-04-09 14:38:02.835  INFO 11036 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-09 14:38:02.841  INFO 11036 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-09 14:38:02.842  INFO 11036 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-09 14:38:02.842  INFO 11036 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-09 14:38:02.842  INFO 11036 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-09 14:38:03.580  INFO 11036 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Mon Apr 09 14:37:59 CST 2018]; root of context hierarchy
2018-04-09 14:38:03.681  INFO 11036 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-09 14:38:03.686  INFO 11036 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-09 14:38:03.687  INFO 11036 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-09 14:38:03.688  INFO 11036 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-09 14:38:03.690  INFO 11036 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-09 14:38:03.690  INFO 11036 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-09 14:38:03.691  INFO 11036 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-09 14:38:03.694  INFO 11036 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-09 14:38:03.694  INFO 11036 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-09 14:38:03.739  INFO 11036 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-09 14:38:03.741  INFO 11036 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-09 14:38:03.822  INFO 11036 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-09 14:38:04.064  INFO 11036 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-09 14:38:04.146  INFO 11036 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-09 14:38:04.153  INFO 11036 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 5.456 seconds (JVM running for 7.976)
2018-04-09 20:11:08.791  INFO 11036 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-09 20:11:08.795  INFO 11036 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-09 20:11:08.872  INFO 11036 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 77 ms
2018-04-09 20:11:08.910  WARN 11036 --- [http-nio-80-exec-1] o.s.web.servlet.PageNotFound             : Request method 'POST' not supported
2018-04-09 20:12:00.544  WARN 11036 --- [http-nio-80-exec-3] o.s.web.servlet.PageNotFound             : Request method 'POST' not supported
2018-04-10 00:45:40.643  INFO 10840 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 10840 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 00:45:40.650  INFO 10840 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-10 00:45:40.778  INFO 10840 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 00:45:40 CST 2018]; root of context hierarchy
2018-04-10 00:45:44.891  INFO 10840 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-10 00:45:44.920  INFO 10840 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-10 00:45:44.922  INFO 10840 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-10 00:45:45.277  INFO 10840 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-10 00:45:45.278  INFO 10840 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4516 ms
2018-04-10 00:45:45.629  INFO 10840 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-10 00:45:45.637  INFO 10840 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-10 00:45:45.637  INFO 10840 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-10 00:45:45.638  INFO 10840 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-10 00:45:45.639  INFO 10840 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-10 00:45:47.809  INFO 10840 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 00:45:40 CST 2018]; root of context hierarchy
2018-04-10 00:45:47.926  INFO 10840 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 00:45:47.930  INFO 10840 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 00:45:47.933  INFO 10840 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 00:45:47.933  INFO 10840 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 00:45:47.934  INFO 10840 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 00:45:47.935  INFO 10840 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 00:45:47.937  INFO 10840 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 00:45:47.942  INFO 10840 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 00:45:47.943  INFO 10840 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 00:45:48.018  INFO 10840 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 00:45:48.019  INFO 10840 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 00:45:48.086  INFO 10840 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 00:45:48.648  INFO 10840 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-10 00:45:48.767  INFO 10840 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-10 00:45:48.774  INFO 10840 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 9.019 seconds (JVM running for 14.056)
2018-04-10 00:48:19.804  INFO 3056 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 3056 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 00:48:19.809  INFO 3056 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-10 00:48:20.079  INFO 3056 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 00:48:20 CST 2018]; root of context hierarchy
2018-04-10 00:48:23.653  INFO 3056 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-10 00:48:23.682  INFO 3056 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-10 00:48:23.684  INFO 3056 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-10 00:48:24.166  INFO 3056 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-10 00:48:24.166  INFO 3056 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4135 ms
2018-04-10 00:48:24.594  INFO 3056 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-10 00:48:24.604  INFO 3056 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-10 00:48:24.605  INFO 3056 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-10 00:48:24.605  INFO 3056 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-10 00:48:24.607  INFO 3056 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-10 00:48:25.835  INFO 3056 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 00:48:20 CST 2018]; root of context hierarchy
2018-04-10 00:48:25.984  INFO 3056 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 00:48:25.990  INFO 3056 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 00:48:25.992  INFO 3056 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 00:48:25.993  INFO 3056 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 00:48:25.994  INFO 3056 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 00:48:25.995  INFO 3056 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 00:48:25.997  INFO 3056 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 00:48:26.000  INFO 3056 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 00:48:26.000  INFO 3056 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 00:48:26.062  INFO 3056 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 00:48:26.064  INFO 3056 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 00:48:26.209  INFO 3056 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 00:48:26.861  INFO 3056 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-10 00:48:26.980  INFO 3056 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-10 00:48:26.991  INFO 3056 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 8.255 seconds (JVM running for 10.916)
2018-04-10 00:49:44.300  INFO 3056 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-10 00:49:44.301  INFO 3056 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-10 00:49:44.340  INFO 3056 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 38 ms
2018-04-10 00:49:44.397  INFO 3056 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-10 00:49:44.397  INFO 3056 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:081aJVxH1Y4u570KHqzH1ppSxH1aJVxg , state:STAT
2018-04-10 00:49:44.399  INFO 3056 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-10 00:49:44.400  INFO 3056 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=081aJVxH1Y4u570KHqzH1ppSxH1aJVxg&grant_type=authorization_code
2018-04-10 00:49:45.698  INFO 3056 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_6aaWhlVa-jo1sU8Tlyby2h8VsqGIEJmC49TIfXhXJxxfRAa1YnYlqSMU2vyupgg5YxuMXQ6p2l2Y4uuJp5BZViCcMOnwVLbKDf_GYHdzqjo","refresh_token":"8_pADhgWB9c6sm0HnlnBEdq6U1uX0r4Ah_6OKwMJfpPRxj_OMknWnCQXkrDz1malKf6gx2jYiDqWvZZjmfzyv1qv0fMLJCojs6oV0-9UltESk","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-10 00:49:45.700  INFO 3056 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-10 00:49:45.701  INFO 3056 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_6aaWhlVa-jo1sU8Tlyby2h8VsqGIEJmC49TIfXhXJxxfRAa1YnYlqSMU2vyupgg5YxuMXQ6p2l2Y4uuJp5BZViCcMOnwVLbKDf_GYHdzqjo , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-10 00:49:45.702  INFO 3056 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_6aaWhlVa-jo1sU8Tlyby2h8VsqGIEJmC49TIfXhXJxxfRAa1YnYlqSMU2vyupgg5YxuMXQ6p2l2Y4uuJp5BZViCcMOnwVLbKDf_GYHdzqjo&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-10 00:49:45.949  INFO 3056 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-10 00:49:54.350  INFO 3056 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-10 00:49:54.352  INFO 3056 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:081aJVxH1Y4u570KHqzH1ppSxH1aJVxg , state:STAT
2018-04-10 00:49:54.353  INFO 3056 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-10 00:49:54.357  INFO 3056 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=081aJVxH1Y4u570KHqzH1ppSxH1aJVxg&grant_type=authorization_code
2018-04-10 00:49:54.571  INFO 3056 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"errcode":40163,"errmsg":"code been used, hints: [ req_id: gP_FDA0595th27 ]"}
2018-04-10 00:49:54.571  INFO 3056 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-10 00:49:54.571  INFO 3056 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : WebAccessToken:null , openId:null
2018-04-10 00:49:54.572  INFO 3056 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=null&openid=null&lang=zh_CN
2018-04-10 00:49:54.801  INFO 3056 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":40001,"errmsg":"invalid credential, access_token is invalid or not latest, hints: [ req_id: WyGMna0596ns89 ]"}
2018-04-10 00:50:07.340 ERROR 3056 --- [http-nio-80-exec-1] o.a.tomcat.jdbc.pool.ConnectionPool      : Unable to create initial connections of pool.

com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:989) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:341) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2192) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2225) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2024) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:779) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:389) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:330) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) [tomcat-jdbc-8.5.15.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:619) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:24) [classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) [spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.insertWeChatUser(<generated>) [classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) [classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:163) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method) ~[na:1.8.0_151]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_151]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_151]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_151]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_151]
	at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:300) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	... 92 common frames omitted

2018-04-10 00:50:07.368 ERROR 3056 --- [http-nio-80-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] with root cause

java.net.ConnectException: Connection timed out: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method) ~[na:1.8.0_151]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_151]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_151]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_151]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_151]
	at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:300) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2192) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2225) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2024) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:779) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:389) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:330) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:619) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:24) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:163) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-10 00:50:28.515 ERROR 3056 --- [http-nio-80-exec-2] o.a.tomcat.jdbc.pool.ConnectionPool      : Unable to create initial connections of pool.

com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:989) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:341) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2192) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2225) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2024) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:779) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:389) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:330) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) [tomcat-jdbc-8.5.15.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:619) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:24) [classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) [spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.insertWeChatUser(<generated>) [classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) [classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:163) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method) ~[na:1.8.0_151]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_151]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_151]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_151]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_151]
	at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:300) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	... 92 common frames omitted

2018-04-10 00:50:28.524 ERROR 3056 --- [http-nio-80-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] with root cause

java.net.ConnectException: Connection timed out: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method) ~[na:1.8.0_151]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_151]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_151]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_151]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_151]
	at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:300) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2192) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2225) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2024) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:779) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:389) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:330) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:619) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:24) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:163) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-10 00:53:16.822  INFO 18952 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 18952 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 00:53:16.828  INFO 18952 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-10 00:53:17.010  INFO 18952 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 00:53:16 CST 2018]; root of context hierarchy
2018-04-10 00:53:22.167  INFO 18952 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-10 00:53:22.206  INFO 18952 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-10 00:53:22.208  INFO 18952 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-10 00:53:22.728  INFO 18952 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-10 00:53:22.728  INFO 18952 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 5734 ms
2018-04-10 00:53:23.360  INFO 18952 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-10 00:53:23.372  INFO 18952 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-10 00:53:23.373  INFO 18952 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-10 00:53:23.373  INFO 18952 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-10 00:53:23.375  INFO 18952 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-10 00:53:25.026  INFO 18952 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 00:53:16 CST 2018]; root of context hierarchy
2018-04-10 00:53:25.172  INFO 18952 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 00:53:25.180  INFO 18952 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 00:53:25.181  INFO 18952 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 00:53:25.181  INFO 18952 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 00:53:25.183  INFO 18952 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 00:53:25.184  INFO 18952 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 00:53:25.186  INFO 18952 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 00:53:25.189  INFO 18952 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 00:53:25.190  INFO 18952 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 00:53:25.430  INFO 18952 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 00:53:25.435  INFO 18952 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 00:53:25.677  INFO 18952 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 00:53:26.179  INFO 18952 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-10 00:53:26.332  INFO 18952 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-10 00:53:26.342  INFO 18952 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 10.618 seconds (JVM running for 13.282)
2018-04-10 00:54:18.298  INFO 18952 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-10 00:54:18.302  INFO 18952 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-10 00:54:18.390  INFO 18952 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 88 ms
2018-04-10 00:54:18.491  INFO 18952 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-10 00:54:18.492  INFO 18952 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:071ciwNj0mMRSn1pGMKj0FhoNj0ciwN2 , state:STAT
2018-04-10 00:54:18.495  INFO 18952 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-10 00:54:18.495  INFO 18952 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=071ciwNj0mMRSn1pGMKj0FhoNj0ciwN2&grant_type=authorization_code
2018-04-10 00:54:19.752  INFO 18952 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_9lIsxEElJ5SV2jANOT6t5W9D35C6NhJNd-5A6Ofr2xmEeTQWYqHywDgsrZdVzJvrnlYc6C-7CBkZ4QaV4hNo6RpdB6PtTQAdG_ZvwVx-ycI","refresh_token":"8_4tJQf2k4VZkQzDFVXGNbQw29YjdspZUF5UasK6qPLA3x7fvXUfWYrQTw4Dndo7ZCHNaFCLr-iPercHBA912R583bc3m2c0V2dbQAYSKjAwA","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-10 00:54:19.754  INFO 18952 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-10 00:54:19.755  INFO 18952 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_9lIsxEElJ5SV2jANOT6t5W9D35C6NhJNd-5A6Ofr2xmEeTQWYqHywDgsrZdVzJvrnlYc6C-7CBkZ4QaV4hNo6RpdB6PtTQAdG_ZvwVx-ycI , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-10 00:54:19.755  INFO 18952 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_9lIsxEElJ5SV2jANOT6t5W9D35C6NhJNd-5A6Ofr2xmEeTQWYqHywDgsrZdVzJvrnlYc6C-7CBkZ4QaV4hNo6RpdB6PtTQAdG_ZvwVx-ycI&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-10 00:54:20.004  INFO 18952 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-10 00:54:29.463  INFO 18952 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-10 00:54:29.464  INFO 18952 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:071ciwNj0mMRSn1pGMKj0FhoNj0ciwN2 , state:STAT
2018-04-10 00:54:29.465  INFO 18952 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-10 00:54:29.467  INFO 18952 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=071ciwNj0mMRSn1pGMKj0FhoNj0ciwN2&grant_type=authorization_code
2018-04-10 00:54:29.715  INFO 18952 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"errcode":40163,"errmsg":"code been used, hints: [ req_id: wrlZHA0870th42 ]"}
2018-04-10 00:54:29.715  INFO 18952 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-10 00:54:29.715  INFO 18952 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : WebAccessToken:null , openId:null
2018-04-10 00:54:29.716  INFO 18952 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=null&openid=null&lang=zh_CN
2018-04-10 00:54:29.910  INFO 18952 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":40001,"errmsg":"invalid credential, access_token is invalid or not latest, hints: [ req_id: boEVha0871s153 ]"}
2018-04-10 00:54:41.252 ERROR 18952 --- [http-nio-80-exec-1] o.a.tomcat.jdbc.pool.ConnectionPool      : Unable to create initial connections of pool.

com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:989) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:341) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2192) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2225) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2024) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:779) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:389) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:330) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) [tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) [tomcat-jdbc-8.5.15.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:619) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) [spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:24) [classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) [spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.insertWeChatUser(<generated>) [classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) [classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:163) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method) ~[na:1.8.0_151]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_151]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_151]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_151]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_151]
	at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:300) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	... 92 common frames omitted

2018-04-10 00:54:41.290 ERROR 18952 --- [http-nio-80-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] with root cause

java.net.ConnectException: Connection timed out: connect
	at java.net.DualStackPlainSocketImpl.connect0(Native Method) ~[na:1.8.0_151]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_151]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_151]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_151]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_151]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_151]
	at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:300) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2192) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2225) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2024) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:779) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:389) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:330) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.15.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:619) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:24) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:163) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-10 00:54:42.193  INFO 18952 --- [http-nio-80-exec-2] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2018-04-10 00:54:42.367  INFO 18952 --- [http-nio-80-exec-2] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2018-04-10 00:54:42.392 ERROR 18952 --- [http-nio-80-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO wechat_user(open_id, nickname, head_img, sex, country, province, city, create_time) VALUES (?,?,?,?,?,?,?,?)]; Column 'open_id' cannot be null; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'open_id' cannot be null] with root cause

com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'open_id' cannot be null
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_151]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2079) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy68.executeUpdate(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:877) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:870) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:931) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:941) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.insertWeChatUser(WeChatUserDaoImpl.java:24) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.insertWeChatUser(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.insertWeChatUser(WeChatUserServiceImpl.java:24) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:163) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-10 00:55:37.821  INFO 1928 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 1928 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 00:55:37.827  INFO 1928 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-10 00:55:37.943  INFO 1928 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 00:55:37 CST 2018]; root of context hierarchy
2018-04-10 00:55:41.212  INFO 1928 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-10 00:55:41.264  INFO 1928 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-10 00:55:41.269  INFO 1928 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-10 00:55:41.692  INFO 1928 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-10 00:55:41.693  INFO 1928 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3755 ms
2018-04-10 00:55:42.103  INFO 1928 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-10 00:55:42.113  INFO 1928 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-10 00:55:42.114  INFO 1928 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-10 00:55:42.115  INFO 1928 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-10 00:55:42.117  INFO 1928 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-10 00:55:43.064  INFO 1928 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 00:55:37 CST 2018]; root of context hierarchy
2018-04-10 00:55:43.166  INFO 1928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 00:55:43.171  INFO 1928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 00:55:43.172  INFO 1928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 00:55:43.172  INFO 1928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 00:55:43.174  INFO 1928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 00:55:43.174  INFO 1928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 00:55:43.176  INFO 1928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 00:55:43.179  INFO 1928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 00:55:43.181  INFO 1928 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 00:55:43.233  INFO 1928 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 00:55:43.234  INFO 1928 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 00:55:43.325  INFO 1928 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 00:55:43.658  INFO 1928 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-10 00:55:43.750  INFO 1928 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-10 00:55:43.756  INFO 1928 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 7.001 seconds (JVM running for 10.35)
2018-04-10 00:56:02.954  INFO 1928 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-10 00:56:02.955  INFO 1928 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-10 00:56:03.007  INFO 1928 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 52 ms
2018-04-10 00:56:03.063  INFO 1928 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-10 00:56:03.064  INFO 1928 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:021dWO542QlWNL0mRv742YCY542dWO5Q , state:STAT
2018-04-10 00:56:03.067  INFO 1928 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-10 00:56:03.067  INFO 1928 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=021dWO542QlWNL0mRv742YCY542dWO5Q&grant_type=authorization_code
2018-04-10 00:56:04.208  INFO 1928 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_CuEuvuJV7uC5ioaQAV9OyskOubuDdY2UmzCLavKA7LdBGDJZ1xNSUkyF0SdCW_1umhOg3HVS61P6_I0fTiICxwQu0HO89BEhvQiB79hOk5Y","refresh_token":"8_zuIrqa7txuqv57UJCg9nnjiH3YW13PfzSZc69ejPV_KosybKovnaS50xHM94_bzVc13E1ceNHJG_4R6mgP1Ir1PGo3jZZacaQHILqzKPesU","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-10 00:56:04.209  INFO 1928 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-10 00:56:04.210  INFO 1928 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_CuEuvuJV7uC5ioaQAV9OyskOubuDdY2UmzCLavKA7LdBGDJZ1xNSUkyF0SdCW_1umhOg3HVS61P6_I0fTiICxwQu0HO89BEhvQiB79hOk5Y , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-10 00:56:04.210  INFO 1928 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_CuEuvuJV7uC5ioaQAV9OyskOubuDdY2UmzCLavKA7LdBGDJZ1xNSUkyF0SdCW_1umhOg3HVS61P6_I0fTiICxwQu0HO89BEhvQiB79hOk5Y&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-10 00:56:04.467  INFO 1928 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-10 00:56:05.419  INFO 1928 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-10 00:56:05.420  INFO 1928 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-10 00:56:05.420  INFO 1928 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户性别:1
2018-04-10 00:56:05.422  INFO 1928 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-10 00:56:05.422  INFO 1928 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 访问聊天界面
2018-04-10 00:56:05.422  INFO 1928 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 跳转的前端地址:http://www.kanmaui.ngrok.xiaomiqiu.cn/index.html?root=chat&id=oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-10 01:16:07.034  INFO 1928 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-10 01:16:07.035  INFO 1928 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:071AJGaT0fbhLW1wFjcT0rXvaT0AJGaH , state:STAT
2018-04-10 01:16:07.035  INFO 1928 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-10 01:16:07.036  INFO 1928 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=071AJGaT0fbhLW1wFjcT0rXvaT0AJGaH&grant_type=authorization_code
2018-04-10 01:16:07.267  INFO 1928 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_VgtRqURTHw9ukTTpP7UaQJZzvabs61W6S4Af8xqKXcy7nEqFq2S2DDfZJKbqV-lXQR5SZNYHWjHQT_zdgxcxZKdkOv1pz-qDVGEnh8iJTrY","refresh_token":"8_ZJNwexE0aaypDiCHTNLFEfFJx3TUqyB12VcEl0wrpdsfwjaAwwk6pPB-chPyaCm1tIn9CAgV0HRLzozOXOmS6BpNgv91lF6RrDPUU71L7kw","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-10 01:16:07.268  INFO 1928 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-10 01:16:07.268  INFO 1928 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : WebAccessToken:8_VgtRqURTHw9ukTTpP7UaQJZzvabs61W6S4Af8xqKXcy7nEqFq2S2DDfZJKbqV-lXQR5SZNYHWjHQT_zdgxcxZKdkOv1pz-qDVGEnh8iJTrY , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-10 01:16:07.268  INFO 1928 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_VgtRqURTHw9ukTTpP7UaQJZzvabs61W6S4Af8xqKXcy7nEqFq2S2DDfZJKbqV-lXQR5SZNYHWjHQT_zdgxcxZKdkOv1pz-qDVGEnh8iJTrY&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-10 01:16:07.520  INFO 1928 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-10 01:16:07.530  INFO 1928 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-10 01:16:07.531  INFO 1928 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-10 01:16:07.531  INFO 1928 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户性别:1
2018-04-10 01:16:07.531  INFO 1928 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-10 01:16:07.531  INFO 1928 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 访问聊天界面
2018-04-10 01:16:07.531  INFO 1928 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 跳转的前端地址:http://www.kanmaui.ngrok.xiaomiqiu.cn/index.html?root=chat&id=oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-10 01:16:26.892  INFO 14460 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 14460 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 01:16:26.897  INFO 14460 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-10 01:16:27.071  INFO 14460 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 01:16:27 CST 2018]; root of context hierarchy
2018-04-10 01:16:30.301  INFO 14460 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-10 01:16:30.329  INFO 14460 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-10 01:16:30.331  INFO 14460 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-10 01:16:30.683  INFO 14460 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-10 01:16:30.683  INFO 14460 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3617 ms
2018-04-10 01:16:31.044  INFO 14460 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-10 01:16:31.052  INFO 14460 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-10 01:16:31.067  INFO 14460 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-10 01:16:31.067  INFO 14460 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-10 01:16:31.068  INFO 14460 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-10 01:16:32.029  INFO 14460 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 01:16:27 CST 2018]; root of context hierarchy
2018-04-10 01:16:32.151  INFO 14460 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 01:16:32.156  INFO 14460 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 01:16:32.158  INFO 14460 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 01:16:32.159  INFO 14460 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 01:16:32.160  INFO 14460 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 01:16:32.161  INFO 14460 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 01:16:32.164  INFO 14460 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 01:16:32.168  INFO 14460 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 01:16:32.169  INFO 14460 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 01:16:32.222  INFO 14460 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 01:16:32.224  INFO 14460 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 01:16:32.317  INFO 14460 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 01:16:32.739  INFO 14460 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-10 01:16:32.866  INFO 14460 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-10 01:16:32.874  INFO 14460 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 6.921 seconds (JVM running for 9.322)
2018-04-10 01:16:47.204  INFO 14460 --- [http-nio-80-exec-7] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-10 01:16:47.206  INFO 14460 --- [http-nio-80-exec-7] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-10 01:16:47.275  INFO 14460 --- [http-nio-80-exec-7] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 68 ms
2018-04-10 01:16:47.355  INFO 14460 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-10 01:16:47.355  INFO 14460 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:011cDlad2SoTCC02WCad2aDwad2cDlab , state:STAT
2018-04-10 01:16:47.358  INFO 14460 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-10 01:16:47.358  INFO 14460 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=011cDlad2SoTCC02WCad2aDwad2cDlab&grant_type=authorization_code
2018-04-10 01:16:48.321  INFO 14460 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_pHnDZFYnX8Jn3HPuE5mtMG3cipZOIVr10W_WcX0wbWvSV-4ULc0HuNMMhkhF9ZreeFaRisMCsciGZFcDSVL3x1pjyq5Zdu36OvLzaud6S3A","refresh_token":"8_XHMC3lmk2PZBiPP1Z8iw7LZnXPIGjP3goRbmIwaHVCTx_5r5p8MDMli4NJ1PXv4lSwCr2alYesKAQxiXK-nvmeQwm9rLOLjQIHJW0U9lWC4","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-10 01:16:48.323  INFO 14460 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-10 01:16:48.325  INFO 14460 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : WebAccessToken:8_pHnDZFYnX8Jn3HPuE5mtMG3cipZOIVr10W_WcX0wbWvSV-4ULc0HuNMMhkhF9ZreeFaRisMCsciGZFcDSVL3x1pjyq5Zdu36OvLzaud6S3A , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-10 01:16:48.325  INFO 14460 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_pHnDZFYnX8Jn3HPuE5mtMG3cipZOIVr10W_WcX0wbWvSV-4ULc0HuNMMhkhF9ZreeFaRisMCsciGZFcDSVL3x1pjyq5Zdu36OvLzaud6S3A&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-10 01:16:48.593  INFO 14460 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-10 01:16:49.335  INFO 14460 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-10 01:16:49.336  INFO 14460 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-10 01:16:49.336  INFO 14460 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 用户性别:1
2018-04-10 01:16:49.338  INFO 14460 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-10 01:16:49.338  INFO 14460 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 访问聊天界面
2018-04-10 01:16:49.338  INFO 14460 --- [http-nio-80-exec-7] c.e.demo.controller.RedirectController   : 跳转的前端地址:http://www.kanmaui.ngrok.xiaomiqiu.cn/index.html?root=chat&id=oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-10 11:24:14.112  INFO 18552 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 18552 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 11:24:14.121  INFO 18552 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-10 11:24:14.471  INFO 18552 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 11:24:14 CST 2018]; root of context hierarchy
2018-04-10 11:24:20.472  INFO 18552 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-10 11:24:20.510  INFO 18552 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-10 11:24:20.511  INFO 18552 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-10 11:24:21.253  INFO 18552 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-10 11:24:21.254  INFO 18552 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 6789 ms
2018-04-10 11:24:22.049  INFO 18552 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-10 11:24:22.063  INFO 18552 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-10 11:24:22.065  INFO 18552 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-10 11:24:22.066  INFO 18552 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-10 11:24:22.067  INFO 18552 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-10 11:24:23.996  INFO 18552 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 11:24:14 CST 2018]; root of context hierarchy
2018-04-10 11:24:24.168  INFO 18552 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 11:24:24.173  INFO 18552 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 11:24:25.922  INFO 18552 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 11:24:25.925  INFO 18552 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 11:24:25.926  INFO 18552 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 11:24:25.926  INFO 18552 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 11:24:25.940  INFO 18552 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 11:24:25.944  INFO 18552 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 11:24:25.945  INFO 18552 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 11:24:26.010  INFO 18552 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 11:24:26.013  INFO 18552 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 11:24:26.126  INFO 18552 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 11:24:26.942  INFO 18552 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-10 11:24:27.201  INFO 18552 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-10 11:24:27.215  INFO 18552 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 15.125 seconds (JVM running for 20.657)
2018-04-10 11:24:47.522  INFO 20080 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 20080 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 11:24:47.528  INFO 20080 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-10 11:24:47.691  INFO 20080 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 11:24:47 CST 2018]; root of context hierarchy
2018-04-10 11:24:51.057  INFO 20080 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-10 11:24:51.091  INFO 20080 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-10 11:24:51.093  INFO 20080 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-10 11:24:51.511  INFO 20080 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-10 11:24:51.511  INFO 20080 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3824 ms
2018-04-10 11:24:51.906  INFO 20080 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-10 11:24:51.917  INFO 20080 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-10 11:24:51.918  INFO 20080 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-10 11:24:51.918  INFO 20080 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-10 11:24:51.923  INFO 20080 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-10 11:24:53.422  INFO 20080 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 11:24:47 CST 2018]; root of context hierarchy
2018-04-10 11:24:53.570  INFO 20080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 11:24:53.577  INFO 20080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 11:24:53.579  INFO 20080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 11:24:53.580  INFO 20080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 11:24:53.584  INFO 20080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 11:24:53.585  INFO 20080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 11:24:53.590  INFO 20080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 11:24:53.594  INFO 20080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 11:24:53.595  INFO 20080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 11:24:53.701  INFO 20080 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 11:24:53.704  INFO 20080 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 11:24:53.795  INFO 20080 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 11:24:54.285  INFO 20080 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-10 11:24:54.412  INFO 20080 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-10 11:24:54.421  INFO 20080 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 8.129 seconds (JVM running for 11.006)
2018-04-10 11:25:48.105  INFO 20080 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-10 11:25:48.106  INFO 20080 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-10 11:25:48.157  INFO 20080 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 50 ms
2018-04-10 11:25:48.237  INFO 20080 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-10 11:25:48.237  INFO 20080 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:021jnZsC1jVj330QW7rC12WYsC1jnZsE , state:STAT
2018-04-10 11:25:48.240  INFO 20080 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-10 11:25:48.240  INFO 20080 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=021jnZsC1jVj330QW7rC12WYsC1jnZsE&grant_type=authorization_code
2018-04-10 11:25:49.723  INFO 20080 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_J_NlAARhhlmvKj0BqR1T4_7btIdCunK5U234GIMPgVI_tsvY-_-6SWOcalbkwQtM7czGtnhSvLU5F0NUoL4yPqXXR05hkUdzXAKYayl7dmk","refresh_token":"8_2BbBq8y6HyinuTRo-1EEg2Ztk2MpaySf56VMw710417rfdf1smrCDhokYuzRjvm4XG91UQDSdbpw7KV7Z1O-rORBXn44qFp7l0I-ZY62l4g","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-10 11:25:49.724  INFO 20080 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-10 11:25:49.725  INFO 20080 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_J_NlAARhhlmvKj0BqR1T4_7btIdCunK5U234GIMPgVI_tsvY-_-6SWOcalbkwQtM7czGtnhSvLU5F0NUoL4yPqXXR05hkUdzXAKYayl7dmk , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-10 11:25:49.725  INFO 20080 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_J_NlAARhhlmvKj0BqR1T4_7btIdCunK5U234GIMPgVI_tsvY-_-6SWOcalbkwQtM7czGtnhSvLU5F0NUoL4yPqXXR05hkUdzXAKYayl7dmk&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-10 11:25:50.248  INFO 20080 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-10 11:25:51.142 ERROR 20080 --- [http-nio-80-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.IncorrectResultSetColumnCountException: Incorrect column count: expected 1, actual 9] with root cause

org.springframework.jdbc.IncorrectResultSetColumnCountException: Incorrect column count: expected 1, actual 9
	at org.springframework.jdbc.core.SingleColumnRowMapper.mapRow(SingleColumnRowMapper.java:92) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:93) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:60) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:697) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:684) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:716) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:726) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:794) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:813) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.findWeChatUserId(WeChatUserDaoImpl.java:32) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.findWeChatUserId(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.findWeChatUserId(WeChatUserServiceImpl.java:29) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:152) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-10 11:25:51.438  INFO 20080 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-10 11:25:51.438  INFO 20080 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:021jnZsC1jVj330QW7rC12WYsC1jnZsE , state:STAT
2018-04-10 11:25:51.440  INFO 20080 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-10 11:25:51.441  INFO 20080 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=021jnZsC1jVj330QW7rC12WYsC1jnZsE&grant_type=authorization_code
2018-04-10 11:25:51.937  INFO 20080 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"errcode":40163,"errmsg":"code been used, hints: [ req_id: mRHAoA0753th44 ]"}
2018-04-10 11:25:51.938  INFO 20080 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-10 11:25:51.939  INFO 20080 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : WebAccessToken:null , openId:null
2018-04-10 11:25:51.939  INFO 20080 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=null&openid=null&lang=zh_CN
2018-04-10 11:25:52.413  INFO 20080 --- [http-nio-80-exec-2] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":40001,"errmsg":"invalid credential, access_token is invalid or not latest, hints: [ req_id: va2cuA0753s182 ]"}
2018-04-10 11:25:52.426 ERROR 20080 --- [http-nio-80-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0] with root cause

org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0
	at org.springframework.dao.support.DataAccessUtils.requiredSingleResult(DataAccessUtils.java:71) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:795) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:813) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.findWeChatUserId(WeChatUserDaoImpl.java:32) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.findWeChatUserId(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.findWeChatUserId(WeChatUserServiceImpl.java:29) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:152) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-10 11:29:14.830  INFO 15616 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 15616 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 11:29:14.836  INFO 15616 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-10 11:29:14.983  INFO 15616 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 11:29:14 CST 2018]; root of context hierarchy
2018-04-10 11:29:19.919  INFO 15616 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-10 11:29:19.980  INFO 15616 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-10 11:29:19.982  INFO 15616 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-10 11:29:20.573  INFO 15616 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-10 11:29:20.573  INFO 15616 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 5596 ms
2018-04-10 11:29:21.047  INFO 15616 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-10 11:29:21.057  INFO 15616 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-10 11:29:21.060  INFO 15616 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-10 11:29:21.060  INFO 15616 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-10 11:29:21.063  INFO 15616 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-10 11:29:22.539  INFO 15616 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 11:29:14 CST 2018]; root of context hierarchy
2018-04-10 11:29:22.702  INFO 15616 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 11:29:22.709  INFO 15616 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 11:29:22.711  INFO 15616 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 11:29:22.712  INFO 15616 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 11:29:22.715  INFO 15616 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 11:29:22.715  INFO 15616 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 11:29:22.718  INFO 15616 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 11:29:22.722  INFO 15616 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 11:29:22.722  INFO 15616 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 11:29:22.889  INFO 15616 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 11:29:22.891  INFO 15616 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 11:29:23.080  INFO 15616 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 11:29:23.613  INFO 15616 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-10 11:29:23.762  INFO 15616 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-10 11:29:23.770  INFO 15616 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 10.022 seconds (JVM running for 12.999)
2018-04-10 11:29:42.910  INFO 15616 --- [http-nio-80-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-10 11:29:42.911  INFO 15616 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-10 11:29:42.976  INFO 15616 --- [http-nio-80-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 65 ms
2018-04-10 11:29:43.034  INFO 15616 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-10 11:29:43.034  INFO 15616 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:021Ne5li14eXQv0oBxki19dili1Ne5lI , state:STAT
2018-04-10 11:29:43.036  INFO 15616 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-10 11:29:43.037  INFO 15616 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=021Ne5li14eXQv0oBxki19dili1Ne5lI&grant_type=authorization_code
2018-04-10 11:29:44.397  INFO 15616 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_PTyQAtcGmTSy7Hof8u3zCxm6r2qQN7kvqOlRxKayNNfxd3YVg58WsD-8h4_7tIMorTklLb8cTJtX6VeTNytIBJEonelFldrII5FUs4AfJsM","refresh_token":"8_Ou6a5mqhBH05ba5iqnFTfV1tQSepsjjECOxXjfj5h9l6H5OjqF-Zd0wKt4QNzEGtDcxDfPjch1ecsTXD50rG7eiQzd4vQd_t8y28n6jAo0k","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-10 11:29:44.399  INFO 15616 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-10 11:29:44.400  INFO 15616 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : WebAccessToken:8_PTyQAtcGmTSy7Hof8u3zCxm6r2qQN7kvqOlRxKayNNfxd3YVg58WsD-8h4_7tIMorTklLb8cTJtX6VeTNytIBJEonelFldrII5FUs4AfJsM , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-10 11:29:44.401  INFO 15616 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_PTyQAtcGmTSy7Hof8u3zCxm6r2qQN7kvqOlRxKayNNfxd3YVg58WsD-8h4_7tIMorTklLb8cTJtX6VeTNytIBJEonelFldrII5FUs4AfJsM&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-10 11:29:44.967  INFO 15616 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-10 11:29:45.721  INFO 15616 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 插入微信用户信息数据成功
2018-04-10 11:29:45.723  INFO 15616 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户昵称:马康
2018-04-10 11:29:45.723  INFO 15616 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 用户性别:1
2018-04-10 11:29:45.725  INFO 15616 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : OpenId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-10 11:29:45.725  INFO 15616 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 访问聊天界面
2018-04-10 11:29:45.725  INFO 15616 --- [http-nio-80-exec-1] c.e.demo.controller.RedirectController   : 跳转的前端地址:http://www.kanmaui.ngrok.xiaomiqiu.cn/index.html?root=chat&id=oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-10 11:39:20.710  INFO 7752 --- [main] com.example.demo.DemoApplicationTests    : Starting DemoApplicationTests on KANMA-CN with PID 7752 (started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 11:39:20.712  INFO 7752 --- [main] com.example.demo.DemoApplicationTests    : No active profile set, falling back to default profiles: default
2018-04-10 11:39:20.961  INFO 7752 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 11:39:20 CST 2018]; root of context hierarchy
2018-04-10 11:39:27.975  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 11:39:20 CST 2018]; root of context hierarchy
2018-04-10 11:39:28.298  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 11:39:28.344  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 11:39:28.346  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 11:39:28.347  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 11:39:28.424  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 11:39:28.425  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 11:39:28.429  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 11:39:28.431  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 11:39:28.447  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 11:39:28.607  INFO 7752 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 11:39:28.607  INFO 7752 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 11:39:28.831  INFO 7752 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 11:39:30.033  INFO 7752 --- [main] com.example.demo.DemoApplicationTests    : Started DemoApplicationTests in 10.917 seconds (JVM running for 15.104)
2018-04-10 11:39:32.596  INFO 7752 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 11:39:20 CST 2018]; root of context hierarchy
2018-04-10 11:40:56.912  INFO 18868 --- [main] com.example.demo.DemoApplicationTests    : Starting DemoApplicationTests on KANMA-CN with PID 18868 (started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 11:40:56.917  INFO 18868 --- [main] com.example.demo.DemoApplicationTests    : No active profile set, falling back to default profiles: default
2018-04-10 11:40:57.064  INFO 18868 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 11:40:57 CST 2018]; root of context hierarchy
2018-04-10 11:41:03.600  INFO 18868 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 11:40:57 CST 2018]; root of context hierarchy
2018-04-10 11:41:03.948  INFO 18868 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 11:41:03.952  INFO 18868 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 11:41:03.954  INFO 18868 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 11:41:03.954  INFO 18868 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 11:41:03.957  INFO 18868 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 11:41:03.957  INFO 18868 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 11:41:03.958  INFO 18868 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 11:41:03.962  INFO 18868 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 11:41:03.964  INFO 18868 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 11:41:04.174  INFO 18868 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 11:41:04.175  INFO 18868 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 11:41:04.419  INFO 18868 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 11:41:05.385  INFO 18868 --- [main] com.example.demo.DemoApplicationTests    : Started DemoApplicationTests in 9.659 seconds (JVM running for 15.14)
2018-04-10 11:41:07.226  INFO 18868 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 11:40:57 CST 2018]; root of context hierarchy
2018-04-10 11:46:12.035  INFO 17464 --- [main] com.example.demo.DemoApplicationTests    : Starting DemoApplicationTests on KANMA-CN with PID 17464 (started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 11:46:12.037  INFO 17464 --- [main] com.example.demo.DemoApplicationTests    : No active profile set, falling back to default profiles: default
2018-04-10 11:46:12.171  INFO 17464 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 11:46:12 CST 2018]; root of context hierarchy
2018-04-10 11:46:19.292  INFO 17464 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 11:46:12 CST 2018]; root of context hierarchy
2018-04-10 11:46:19.645  INFO 17464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 11:46:19.653  INFO 17464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 11:46:19.654  INFO 17464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 11:46:19.654  INFO 17464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 11:46:19.658  INFO 17464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 11:46:19.659  INFO 17464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 11:46:19.661  INFO 17464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 11:46:19.663  INFO 17464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 11:46:19.694  INFO 17464 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 11:46:19.823  INFO 17464 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 11:46:19.824  INFO 17464 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 11:46:20.046  INFO 17464 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 11:46:21.000  INFO 17464 --- [main] com.example.demo.DemoApplicationTests    : Started DemoApplicationTests in 10.055 seconds (JVM running for 14.47)
2018-04-10 11:46:22.809  INFO 17464 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 11:46:12 CST 2018]; root of context hierarchy
2018-04-10 12:45:12.049  INFO 20916 --- [main] com.example.demo.DemoApplicationTests    : Starting DemoApplicationTests on KANMA-CN with PID 20916 (started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 12:45:12.051  INFO 20916 --- [main] com.example.demo.DemoApplicationTests    : No active profile set, falling back to default profiles: default
2018-04-10 12:45:12.181  INFO 20916 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 12:45:12 CST 2018]; root of context hierarchy
2018-04-10 12:45:16.775  WARN 20916 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redirectController': Unsatisfied dependency expressed through field 'weChatUserService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'weChatUserServiceImpl': Unsatisfied dependency expressed through field 'weChatUserDao'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'weChatUserDaoImpl' defined in file [D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes\com\example\demo\dao\daoimpl\WeChatUserDaoImpl.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: 'dataSource' or 'jdbcTemplate' is required
2018-04-10 12:45:16.821  INFO 20916 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2018-04-10 12:45:16.843 ERROR 20916 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redirectController': Unsatisfied dependency expressed through field 'weChatUserService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'weChatUserServiceImpl': Unsatisfied dependency expressed through field 'weChatUserDao'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'weChatUserDaoImpl' defined in file [D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes\com\example\demo\dao\daoimpl\WeChatUserDaoImpl.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: 'dataSource' or 'jdbcTemplate' is required
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) ~[spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) ~[spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.4.RELEASE.jar:1.5.4.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'weChatUserServiceImpl': Unsatisfied dependency expressed through field 'weChatUserDao'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'weChatUserDaoImpl' defined in file [D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes\com\example\demo\dao\daoimpl\WeChatUserDaoImpl.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: 'dataSource' or 'jdbcTemplate' is required
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	... 42 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'weChatUserDaoImpl' defined in file [D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes\com\example\demo\dao\daoimpl\WeChatUserDaoImpl.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: 'dataSource' or 'jdbcTemplate' is required
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	... 55 common frames omitted
Caused by: java.lang.IllegalArgumentException: 'dataSource' or 'jdbcTemplate' is required
	at org.springframework.jdbc.core.support.JdbcDaoSupport.checkDaoConfig(JdbcDaoSupport.java:111) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.DaoSupport.afterPropertiesSet(DaoSupport.java:44) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	... 65 common frames omitted

2018-04-10 12:45:16.851 ERROR 20916 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@77846d2c] to prepare test instance [com.example.demo.DemoApplicationTests@69eb86b4]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redirectController': Unsatisfied dependency expressed through field 'weChatUserService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'weChatUserServiceImpl': Unsatisfied dependency expressed through field 'weChatUserDao'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'weChatUserDaoImpl' defined in file [D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes\com\example\demo\dao\daoimpl\WeChatUserDaoImpl.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: 'dataSource' or 'jdbcTemplate' is required
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) ~[spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) ~[spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.4.RELEASE.jar:1.5.4.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'weChatUserServiceImpl': Unsatisfied dependency expressed through field 'weChatUserDao'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'weChatUserDaoImpl' defined in file [D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes\com\example\demo\dao\daoimpl\WeChatUserDaoImpl.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: 'dataSource' or 'jdbcTemplate' is required
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	... 42 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'weChatUserDaoImpl' defined in file [D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes\com\example\demo\dao\daoimpl\WeChatUserDaoImpl.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: 'dataSource' or 'jdbcTemplate' is required
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	... 55 common frames omitted
Caused by: java.lang.IllegalArgumentException: 'dataSource' or 'jdbcTemplate' is required
	at org.springframework.jdbc.core.support.JdbcDaoSupport.checkDaoConfig(JdbcDaoSupport.java:111) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.DaoSupport.afterPropertiesSet(DaoSupport.java:44) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	... 65 common frames omitted

2018-04-10 12:56:30.310  INFO 16096 --- [main] com.example.demo.DemoApplicationTests    : Starting DemoApplicationTests on KANMA-CN with PID 16096 (started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 12:56:30.312  INFO 16096 --- [main] com.example.demo.DemoApplicationTests    : No active profile set, falling back to default profiles: default
2018-04-10 12:56:30.492  INFO 16096 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 12:56:30 CST 2018]; root of context hierarchy
2018-04-10 12:56:35.603  WARN 16096 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redirectController': Unsatisfied dependency expressed through field 'weChatUserService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'weChatUserServiceImpl': Unsatisfied dependency expressed through field 'weChatUserDao'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'weChatUserDaoImpl' defined in file [D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes\com\example\demo\dao\daoimpl\WeChatUserDaoImpl.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: 'dataSource' or 'jdbcTemplate' is required
2018-04-10 12:56:35.621  INFO 16096 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2018-04-10 12:56:35.644 ERROR 16096 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redirectController': Unsatisfied dependency expressed through field 'weChatUserService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'weChatUserServiceImpl': Unsatisfied dependency expressed through field 'weChatUserDao'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'weChatUserDaoImpl' defined in file [D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes\com\example\demo\dao\daoimpl\WeChatUserDaoImpl.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: 'dataSource' or 'jdbcTemplate' is required
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) ~[spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) ~[spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.4.RELEASE.jar:1.5.4.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'weChatUserServiceImpl': Unsatisfied dependency expressed through field 'weChatUserDao'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'weChatUserDaoImpl' defined in file [D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes\com\example\demo\dao\daoimpl\WeChatUserDaoImpl.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: 'dataSource' or 'jdbcTemplate' is required
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	... 42 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'weChatUserDaoImpl' defined in file [D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes\com\example\demo\dao\daoimpl\WeChatUserDaoImpl.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: 'dataSource' or 'jdbcTemplate' is required
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	... 55 common frames omitted
Caused by: java.lang.IllegalArgumentException: 'dataSource' or 'jdbcTemplate' is required
	at org.springframework.jdbc.core.support.JdbcDaoSupport.checkDaoConfig(JdbcDaoSupport.java:111) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.DaoSupport.afterPropertiesSet(DaoSupport.java:44) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	... 65 common frames omitted

2018-04-10 12:56:35.651 ERROR 16096 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@77846d2c] to prepare test instance [com.example.demo.DemoApplicationTests@5f78de22]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redirectController': Unsatisfied dependency expressed through field 'weChatUserService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'weChatUserServiceImpl': Unsatisfied dependency expressed through field 'weChatUserDao'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'weChatUserDaoImpl' defined in file [D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes\com\example\demo\dao\daoimpl\WeChatUserDaoImpl.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: 'dataSource' or 'jdbcTemplate' is required
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) ~[spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) ~[spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.4.RELEASE.jar:1.5.4.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'weChatUserServiceImpl': Unsatisfied dependency expressed through field 'weChatUserDao'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'weChatUserDaoImpl' defined in file [D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes\com\example\demo\dao\daoimpl\WeChatUserDaoImpl.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: 'dataSource' or 'jdbcTemplate' is required
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	... 42 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'weChatUserDaoImpl' defined in file [D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes\com\example\demo\dao\daoimpl\WeChatUserDaoImpl.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: 'dataSource' or 'jdbcTemplate' is required
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	... 55 common frames omitted
Caused by: java.lang.IllegalArgumentException: 'dataSource' or 'jdbcTemplate' is required
	at org.springframework.jdbc.core.support.JdbcDaoSupport.checkDaoConfig(JdbcDaoSupport.java:111) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.DaoSupport.afterPropertiesSet(DaoSupport.java:44) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	... 65 common frames omitted

2018-04-10 13:03:32.684  INFO 508 --- [main] com.example.demo.DemoApplicationTests    : Starting DemoApplicationTests on KANMA-CN with PID 508 (started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 13:03:32.686  INFO 508 --- [main] com.example.demo.DemoApplicationTests    : No active profile set, falling back to default profiles: default
2018-04-10 13:03:32.830  INFO 508 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 13:03:32 CST 2018]; root of context hierarchy
2018-04-10 13:03:39.858  INFO 508 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 13:03:32 CST 2018]; root of context hierarchy
2018-04-10 13:03:40.198  INFO 508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 13:03:40.206  INFO 508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 13:03:40.206  INFO 508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 13:03:40.207  INFO 508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 13:03:40.233  INFO 508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 13:03:40.235  INFO 508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 13:03:40.236  INFO 508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 13:03:40.251  INFO 508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 13:03:40.272  INFO 508 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 13:03:40.425  INFO 508 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:03:40.426  INFO 508 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:03:40.718  INFO 508 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:03:41.643  INFO 508 --- [main] com.example.demo.DemoApplicationTests    : Started DemoApplicationTests in 10.739 seconds (JVM running for 13.994)
2018-04-10 13:03:43.688  INFO 508 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 13:03:32 CST 2018]; root of context hierarchy
2018-04-10 13:04:43.908  INFO 2240 --- [main] com.example.demo.DemoApplicationTests    : Starting DemoApplicationTests on KANMA-CN with PID 2240 (started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 13:04:43.911  INFO 2240 --- [main] com.example.demo.DemoApplicationTests    : No active profile set, falling back to default profiles: default
2018-04-10 13:04:43.999  INFO 2240 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 13:04:43 CST 2018]; root of context hierarchy
2018-04-10 13:04:50.754  INFO 2240 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 13:04:43 CST 2018]; root of context hierarchy
2018-04-10 13:04:51.077  INFO 2240 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 13:04:51.109  INFO 2240 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 13:04:51.110  INFO 2240 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 13:04:51.110  INFO 2240 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 13:04:51.113  INFO 2240 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 13:04:51.114  INFO 2240 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 13:04:51.115  INFO 2240 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 13:04:51.118  INFO 2240 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 13:04:51.130  INFO 2240 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 13:04:51.256  INFO 2240 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:04:51.256  INFO 2240 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:04:51.515  INFO 2240 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:04:52.637  INFO 2240 --- [main] com.example.demo.DemoApplicationTests    : Started DemoApplicationTests in 10.343 seconds (JVM running for 13.744)
2018-04-10 13:04:54.623  INFO 2240 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 13:04:43 CST 2018]; root of context hierarchy
2018-04-10 13:10:37.744  INFO 21420 --- [main] com.example.demo.DemoApplicationTests    : Starting DemoApplicationTests on KANMA-CN with PID 21420 (started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 13:10:37.746  INFO 21420 --- [main] com.example.demo.DemoApplicationTests    : No active profile set, falling back to default profiles: default
2018-04-10 13:10:37.880  INFO 21420 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 13:10:37 CST 2018]; root of context hierarchy
2018-04-10 13:10:45.400  INFO 21420 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 13:10:37 CST 2018]; root of context hierarchy
2018-04-10 13:10:45.692  INFO 21420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 13:10:45.714  INFO 21420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 13:10:45.715  INFO 21420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 13:10:45.715  INFO 21420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 13:10:45.717  INFO 21420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 13:10:45.718  INFO 21420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 13:10:45.719  INFO 21420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 13:10:45.722  INFO 21420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 13:10:45.724  INFO 21420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 13:10:45.888  INFO 21420 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:10:45.888  INFO 21420 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:10:46.103  INFO 21420 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:10:47.033  INFO 21420 --- [main] com.example.demo.DemoApplicationTests    : Started DemoApplicationTests in 11.007 seconds (JVM running for 14.632)
2018-04-10 13:10:49.168  INFO 21420 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 13:10:37 CST 2018]; root of context hierarchy
2018-04-10 13:11:02.867  INFO 13224 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 13224 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 13:11:02.874  INFO 13224 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-10 13:11:03.065  INFO 13224 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 13:11:03 CST 2018]; root of context hierarchy
2018-04-10 13:11:07.038  INFO 13224 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-10 13:11:07.070  INFO 13224 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-10 13:11:07.072  INFO 13224 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-10 13:11:07.454  INFO 13224 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-10 13:11:07.454  INFO 13224 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4452 ms
2018-04-10 13:11:07.878  INFO 13224 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-10 13:11:07.888  INFO 13224 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-10 13:11:07.890  INFO 13224 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-10 13:11:07.890  INFO 13224 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-10 13:11:07.892  INFO 13224 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-10 13:11:09.069  INFO 13224 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 13:11:03 CST 2018]; root of context hierarchy
2018-04-10 13:11:09.198  INFO 13224 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 13:11:09.203  INFO 13224 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 13:11:09.205  INFO 13224 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 13:11:09.206  INFO 13224 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 13:11:09.208  INFO 13224 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 13:11:09.208  INFO 13224 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 13:11:09.210  INFO 13224 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 13:11:09.213  INFO 13224 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 13:11:09.214  INFO 13224 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 13:11:09.278  INFO 13224 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:11:09.282  INFO 13224 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:11:09.374  INFO 13224 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:11:09.847  INFO 13224 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-10 13:11:10.052  INFO 13224 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-10 13:11:10.060  INFO 13224 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 8.126 seconds (JVM running for 10.699)
2018-04-10 13:11:16.900  INFO 13224 --- [http-nio-80-exec-9] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-10 13:11:16.902  INFO 13224 --- [http-nio-80-exec-9] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-10 13:11:16.960  INFO 13224 --- [http-nio-80-exec-9] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 58 ms
2018-04-10 13:11:17.034  INFO 13224 --- [http-nio-80-exec-9] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-10 13:11:17.035  INFO 13224 --- [http-nio-80-exec-9] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:011H8I4z0QT6of1m8j7z0ok15z0H8I4w , state:STAT
2018-04-10 13:11:17.038  INFO 13224 --- [http-nio-80-exec-9] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-10 13:11:17.038  INFO 13224 --- [http-nio-80-exec-9] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=011H8I4z0QT6of1m8j7z0ok15z0H8I4w&grant_type=authorization_code
2018-04-10 13:11:18.611  INFO 13224 --- [http-nio-80-exec-9] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_E5VCdRr9FoGupldVQHX2O5z1llINgv9n6btLXeU3EClSO5ucG6w3HJD3hOmSpwqNIP_2dS4tyPbcOAcx5NK6JB4hEvh8ho7ksbL91O8bOMM","refresh_token":"8_mkdUOtSaLkfoQmMZ7GHe4Ru-2rg4IfrxIqwQli2TRPZG4sT3N8rKFjWr0bD3lSGDkpdBsyWNkaZgf2Nb_NZAjcetsguNM2qcE0KRn3mDRjY","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-10 13:11:18.612  INFO 13224 --- [http-nio-80-exec-9] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-10 13:11:18.612  INFO 13224 --- [http-nio-80-exec-9] c.e.demo.controller.RedirectController   : WebAccessToken:8_E5VCdRr9FoGupldVQHX2O5z1llINgv9n6btLXeU3EClSO5ucG6w3HJD3hOmSpwqNIP_2dS4tyPbcOAcx5NK6JB4hEvh8ho7ksbL91O8bOMM , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-10 13:11:18.613  INFO 13224 --- [http-nio-80-exec-9] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_E5VCdRr9FoGupldVQHX2O5z1llINgv9n6btLXeU3EClSO5ucG6w3HJD3hOmSpwqNIP_2dS4tyPbcOAcx5NK6JB4hEvh8ho7ksbL91O8bOMM&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-10 13:11:19.162  INFO 13224 --- [http-nio-80-exec-9] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-10 13:11:19.983  INFO 13224 --- [http-nio-80-exec-9] c.e.demo.controller.RedirectController   : 微信用户信息已存在
2018-04-10 13:11:19.984  INFO 13224 --- [http-nio-80-exec-9] c.e.demo.controller.RedirectController   : 访问聊天界面
2018-04-10 13:11:19.985  INFO 13224 --- [http-nio-80-exec-9] c.e.demo.controller.RedirectController   : 跳转的前端地址:http://www.kanmaui.ngrok.xiaomiqiu.cn/index.html?root=chat&id=oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-10 13:14:27.870  INFO 20484 --- [main] com.example.demo.DemoApplication         : Starting DemoApplication on KANMA-CN with PID 20484 (D:\Projects\IdeaProjects\O-Interact\rest-project\demo\target\classes started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 13:14:27.877  INFO 20484 --- [main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default
2018-04-10 13:14:28.044  INFO 20484 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 13:14:28 CST 2018]; root of context hierarchy
2018-04-10 13:14:31.310  INFO 20484 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 80 (http)
2018-04-10 13:14:31.342  INFO 20484 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-04-10 13:14:31.344  INFO 20484 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2018-04-10 13:14:31.785  INFO 20484 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-10 13:14:31.786  INFO 20484 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3747 ms
2018-04-10 13:14:32.208  INFO 20484 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-04-10 13:14:32.219  INFO 20484 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-04-10 13:14:32.220  INFO 20484 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-04-10 13:14:32.221  INFO 20484 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-04-10 13:14:32.223  INFO 20484 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-04-10 13:14:33.436  INFO 20484 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3b2c72c2: startup date [Tue Apr 10 13:14:28 CST 2018]; root of context hierarchy
2018-04-10 13:14:33.561  INFO 20484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 13:14:33.567  INFO 20484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 13:14:33.569  INFO 20484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 13:14:33.570  INFO 20484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 13:14:33.572  INFO 20484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 13:14:33.573  INFO 20484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 13:14:33.574  INFO 20484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 13:14:33.579  INFO 20484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 13:14:33.579  INFO 20484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 13:14:33.653  INFO 20484 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:14:33.655  INFO 20484 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:14:33.754  INFO 20484 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:14:34.201  INFO 20484 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-04-10 13:14:34.480  INFO 20484 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 80 (http)
2018-04-10 13:14:34.489  INFO 20484 --- [main] com.example.demo.DemoApplication         : Started DemoApplication in 7.607 seconds (JVM running for 11.601)
2018-04-10 13:14:55.598  INFO 20484 --- [http-nio-80-exec-10] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-10 13:14:55.599  INFO 20484 --- [http-nio-80-exec-10] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-04-10 13:14:55.649  INFO 20484 --- [http-nio-80-exec-10] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 49 ms
2018-04-10 13:14:55.727  INFO 20484 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-10 13:14:55.727  INFO 20484 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:061gjQD01gPOM02zGJE017UED01gjQDP , state:STAT
2018-04-10 13:14:55.730  INFO 20484 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-10 13:14:55.730  INFO 20484 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=061gjQD01gPOM02zGJE017UED01gjQDP&grant_type=authorization_code
2018-04-10 13:14:57.207  INFO 20484 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"access_token":"8_imkDX81YncyS6W8ZWFNtgxvg98X92jo6Sz3_-1dbzpyUgu_B_Op9f86Ol8YXGXyj2xoZYDjWAFYMu_rto4rxyfYpFcaHMoPQZsysadfYa2I","refresh_token":"8_XzA5H4sd0sMIOxdMEJWt1xvD_tnbiOJfTNfTv2dwAJMHmrkud3OwrbNCCFuN5PiYpN918vON2AqwKdiGGw84QqpOAGDAMjt2Bcqi4PzHI7s","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","scope":"snsapi_userinfo","expires_in":7200}
2018-04-10 13:14:57.209  INFO 20484 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-10 13:14:57.210  INFO 20484 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : WebAccessToken:8_imkDX81YncyS6W8ZWFNtgxvg98X92jo6Sz3_-1dbzpyUgu_B_Op9f86Ol8YXGXyj2xoZYDjWAFYMu_rto4rxyfYpFcaHMoPQZsysadfYa2I , openId:oJdcO1cCez_lXs4vUbZx65d4hIGY
2018-04-10 13:14:57.210  INFO 20484 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=8_imkDX81YncyS6W8ZWFNtgxvg98X92jo6Sz3_-1dbzpyUgu_B_Op9f86Ol8YXGXyj2xoZYDjWAFYMu_rto4rxyfYpFcaHMoPQZsysadfYa2I&openid=oJdcO1cCez_lXs4vUbZx65d4hIGY&lang=zh_CN
2018-04-10 13:14:57.807  INFO 20484 --- [http-nio-80-exec-10] c.e.demo.controller.RedirectController   : 用户信息:{"country":"中国","province":"江苏","city":"宿迁","openid":"oJdcO1cCez_lXs4vUbZx65d4hIGY","sex":1,"nickname":"马康","headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBoptzE8yfj7tpL76MiaM89BFMO817SVX7B7Kr77764E9DCY0wsfl0YDibhMgH5icACOTdaGEuPIHjvg/132","language":"zh_CN","privilege":[]}
2018-04-10 13:14:58.746 ERROR 20484 --- [http-nio-80-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0] with root cause

org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0
	at org.springframework.dao.support.DataAccessUtils.requiredSingleResult(DataAccessUtils.java:71) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:795) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:813) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.findWeChatUserId(WeChatUserDaoImpl.java:31) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.findWeChatUserId(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.findWeChatUserId(WeChatUserServiceImpl.java:29) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:152) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-10 13:14:59.196  INFO 20484 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 收到微信重定向跳转.
2018-04-10 13:14:59.197  INFO 20484 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 用户同意授权,获取code:061gjQD01gPOM02zGJE017UED01gjQDP , state:STAT
2018-04-10 13:14:59.198  INFO 20484 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 第一步:用户授权, get Code URL:https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe634435c58769578&redirect_uri=http://www.kanma.ngrok.xiaomiqiu.cn/url&response_type=code&scope=snsapi_userinfo&state=STAT#wechat_redirect
2018-04-10 13:14:59.199  INFO 20484 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 第二步:get Access Token URL:https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe634435c58769578&secret=9cbe7b9611a722b87980ca9d8022627f&code=061gjQD01gPOM02zGJE017UED01gjQDP&grant_type=authorization_code
2018-04-10 13:14:59.677  INFO 20484 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 请求到的Access Token:{"errcode":40163,"errmsg":"code been used, hints: [ req_id: rUHQMa0301th21 ]"}
2018-04-10 13:14:59.677  INFO 20484 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 获取access_token成功!
2018-04-10 13:14:59.678  INFO 20484 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : WebAccessToken:null , openId:null
2018-04-10 13:14:59.679  INFO 20484 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 第三步:获取用户信息的URL:https://api.weixin.qq.com/sns/userinfo?access_token=null&openid=null&lang=zh_CN
2018-04-10 13:15:00.190  INFO 20484 --- [http-nio-80-exec-6] c.e.demo.controller.RedirectController   : 用户信息:{"errcode":40001,"errmsg":"invalid credential, access_token is invalid or not latest, hints: [ req_id: 8pN_qA0301s108 ]"}
2018-04-10 13:15:00.201 ERROR 20484 --- [http-nio-80-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0] with root cause

org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0
	at org.springframework.dao.support.DataAccessUtils.requiredSingleResult(DataAccessUtils.java:71) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:795) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:813) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl.findWeChatUserId(WeChatUserDaoImpl.java:31) ~[classes/:na]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$FastClassBySpringCGLIB$$527f286f.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.example.demo.dao.daoimpl.WeChatUserDaoImpl$$EnhancerBySpringCGLIB$$170687e3.findWeChatUserId(<generated>) ~[classes/:na]
	at com.example.demo.service.seviceimpl.WeChatUserServiceImpl.findWeChatUserId(WeChatUserServiceImpl.java:29) ~[classes/:na]
	at com.example.demo.controller.RedirectController.wecahtLogin(RedirectController.java:152) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_151]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_151]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_151]

2018-04-10 13:17:11.784  INFO 21496 --- [main] com.example.demo.DemoApplicationTests    : Starting DemoApplicationTests on KANMA-CN with PID 21496 (started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 13:17:11.787  INFO 21496 --- [main] com.example.demo.DemoApplicationTests    : No active profile set, falling back to default profiles: default
2018-04-10 13:17:11.878  INFO 21496 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 13:17:11 CST 2018]; root of context hierarchy
2018-04-10 13:17:18.747  INFO 21496 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 13:17:11 CST 2018]; root of context hierarchy
2018-04-10 13:17:19.092  INFO 21496 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 13:17:19.097  INFO 21496 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 13:17:19.098  INFO 21496 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 13:17:19.099  INFO 21496 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 13:17:19.121  INFO 21496 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 13:17:19.121  INFO 21496 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 13:17:19.122  INFO 21496 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 13:17:19.126  INFO 21496 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 13:17:19.154  INFO 21496 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 13:17:19.357  INFO 21496 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:17:19.358  INFO 21496 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:17:19.584  INFO 21496 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:17:20.558  INFO 21496 --- [main] com.example.demo.DemoApplicationTests    : Started DemoApplicationTests in 10.594 seconds (JVM running for 14.449)
2018-04-10 13:17:22.647  INFO 21496 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 13:17:11 CST 2018]; root of context hierarchy
2018-04-10 13:20:35.707  INFO 21184 --- [main] com.example.demo.DemoApplicationTests    : Starting DemoApplicationTests on KANMA-CN with PID 21184 (started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 13:20:35.710  INFO 21184 --- [main] com.example.demo.DemoApplicationTests    : No active profile set, falling back to default profiles: default
2018-04-10 13:20:35.878  INFO 21184 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 13:20:35 CST 2018]; root of context hierarchy
2018-04-10 13:20:43.191  INFO 21184 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 13:20:35 CST 2018]; root of context hierarchy
2018-04-10 13:20:43.521  INFO 21184 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 13:20:43.541  INFO 21184 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 13:20:43.541  INFO 21184 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 13:20:43.542  INFO 21184 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 13:20:43.548  INFO 21184 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 13:20:43.550  INFO 21184 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 13:20:43.555  INFO 21184 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 13:20:43.557  INFO 21184 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 13:20:43.563  INFO 21184 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 13:20:43.746  INFO 21184 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:20:43.746  INFO 21184 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:20:43.991  INFO 21184 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:20:44.896  INFO 21184 --- [main] com.example.demo.DemoApplicationTests    : Started DemoApplicationTests in 10.852 seconds (JVM running for 14.215)
2018-04-10 13:20:47.006  INFO 21184 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 13:20:35 CST 2018]; root of context hierarchy
2018-04-10 13:35:25.357  INFO 17212 --- [main] com.example.demo.DemoApplicationTests    : Starting DemoApplicationTests on KANMA-CN with PID 17212 (started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 13:35:25.359  INFO 17212 --- [main] com.example.demo.DemoApplicationTests    : No active profile set, falling back to default profiles: default
2018-04-10 13:35:25.464  INFO 17212 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 13:35:25 CST 2018]; root of context hierarchy
2018-04-10 13:35:32.797  INFO 17212 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 13:35:25 CST 2018]; root of context hierarchy
2018-04-10 13:35:33.121  INFO 17212 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 13:35:33.126  INFO 17212 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 13:35:33.126  INFO 17212 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 13:35:33.127  INFO 17212 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 13:35:33.169  INFO 17212 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 13:35:33.170  INFO 17212 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 13:35:33.171  INFO 17212 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 13:35:33.191  INFO 17212 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 13:35:33.237  INFO 17212 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 13:35:33.441  INFO 17212 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:35:33.441  INFO 17212 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:35:33.642  INFO 17212 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:35:34.756  INFO 17212 --- [main] com.example.demo.DemoApplicationTests    : Started DemoApplicationTests in 10.754 seconds (JVM running for 14.37)
2018-04-10 13:35:36.578  INFO 17212 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@6ab778a: startup date [Tue Apr 10 13:35:25 CST 2018]; root of context hierarchy
2018-04-10 13:36:59.761  INFO 5384 --- [main] com.example.demo.DemoApplicationTests    : Starting DemoApplicationTests on KANMA-CN with PID 5384 (started by kanma in D:\Projects\IdeaProjects\O-Interact\rest-project\demo)
2018-04-10 13:36:59.763  INFO 5384 --- [main] com.example.demo.DemoApplicationTests    : No active profile set, falling back to default profiles: default
2018-04-10 13:36:59.930  INFO 5384 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4e3958e7: startup date [Tue Apr 10 13:36:59 CST 2018]; root of context hierarchy
2018-04-10 13:37:06.853  INFO 5384 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@4e3958e7: startup date [Tue Apr 10 13:36:59 CST 2018]; root of context hierarchy
2018-04-10 13:37:07.261  INFO 5384 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/url],methods=[GET]}" onto public void com.example.demo.controller.RedirectController.wecahtLogin(java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2018-04-10 13:37:07.271  INFO 5384 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/{id}]}" onto public com.example.demo.entity.User com.example.demo.controller.UserController.getUserById(java.lang.Integer)
2018-04-10 13:37:07.272  INFO 5384 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/list]}" onto public java.util.List<com.example.demo.entity.User> com.example.demo.controller.UserController.listUser()
2018-04-10 13:37:07.274  INFO 5384 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/delete/{id}]}" onto public int com.example.demo.controller.UserController.deleteUserById(int)
2018-04-10 13:37:07.345  INFO 5384 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/update/{id}],methods=[POST]}" onto public int com.example.demo.controller.UserController.updateUserWithId(int,com.example.demo.entityMapping.PostUser)
2018-04-10 13:37:07.346  INFO 5384 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/user/add],methods=[POST]}" onto public int com.example.demo.controller.UserController.insertUser(com.example.demo.entityMapping.PostUser)
2018-04-10 13:37:07.348  INFO 5384 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/],methods=[GET]}" onto public java.lang.String com.example.demo.controller.WeChatController.checkName(java.lang.String,java.lang.String,java.lang.String,java.lang.String)
2018-04-10 13:37:07.351  INFO 5384 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-04-10 13:37:07.366  INFO 5384 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-04-10 13:37:07.543  INFO 5384 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:37:07.543  INFO 5384 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:37:07.762  INFO 5384 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-04-10 13:37:08.921  INFO 5384 --- [main] com.example.demo.DemoApplicationTests    : Started DemoApplicationTests in 11.025 seconds (JVM running for 14.795)
2018-04-10 13:37:10.806  INFO 5384 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@4e3958e7: startup date [Tue Apr 10 13:36:59 CST 2018]; root of context hierarchy
